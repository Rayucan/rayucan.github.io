<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="rayucan"><meta name="copyright" content="rayucan"><meta name="generator" content="Hexo 5.4.2"><meta name="theme" content="hexo-theme-yun"><title>Spring | null</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":null,"version":"1.6.1","mode":"dark","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="ä¸€ä¸ªå¼€æºçš„å…¨æ ˆåº”ç”¨ç¨‹åºæ¡†æ¶å’Œæ§åˆ¶åè½¬å®¹å™¨å®ç°ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring">
<meta property="og:url" content="http://example.com/2020/10/25/Spring/index.html">
<meta property="og:site_name">
<meta property="og:description" content="ä¸€ä¸ªå¼€æºçš„å…¨æ ˆåº”ç”¨ç¨‹åºæ¡†æ¶å’Œæ§åˆ¶åè½¬å®¹å™¨å®ç°ã€‚">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayucan/imageCloud/data/20210202151027.jpeg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayucan/imageCloud/data/20210202151626.png">
<meta property="article:published_time" content="2020-10-24T16:00:00.000Z">
<meta property="article:modified_time" content="2023-07-17T03:26:15.679Z">
<meta property="article:author" content="rayucan">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Rayucan/imageCloud/data/20210202151027.jpeg"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="rayucan"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/Rayucan/imageCloud/data/20210515231431.jpg" alt="rayucan"><span class="site-author-status" title="ç½‘ä¸Šå†²æµª">ğŸ„</span></a><div class="site-author-name"><a href="/about/">rayucan</a></div><a class="site-name" href="/about/site.html"></a><sub class="site-subtitle">å±±è€Œ</sub><div class="site-desciption">å±±æµ·æ‚ æ‚ ï¼Œè€Œäººåœ¨æ¼«æ­¥è¡Œèµ°</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">54</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">8</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Rayucan" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">Springç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E7%9A%84%E4%BC%98%E8%89%AF%E7%89%B9%E6%80%A7"><span class="toc-number">1.1.</span> <span class="toc-text">Springçš„ä¼˜è‰¯ç‰¹æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.</span> <span class="toc-text">Springæ¨¡å—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IOC%E5%AE%B9%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text">IOCå®¹å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8EIOC%E5%92%8CDI"><span class="toc-number">2.1.</span> <span class="toc-text">å…³äºIOCå’ŒDI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E7%B1%BB%E5%9E%8B%E8%8E%B7%E5%8F%96bean"><span class="toc-number">2.2.</span> <span class="toc-text">é€šè¿‡ç±»å‹è·å–bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99bean%E7%9A%84%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC"><span class="toc-number">2.3.</span> <span class="toc-text">ç»™beançš„å±æ€§èµ‹å€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E7%9A%84%E9%80%94%E5%BE%84"><span class="toc-number">2.3.1.</span> <span class="toc-text">èµ‹å€¼çš„é€”å¾„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E7%9A%84%E5%80%BC"><span class="toc-number">2.3.2.</span> <span class="toc-text">å¯ä»¥ä½¿ç”¨çš„å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%B1%9E%E6%80%A7"><span class="toc-number">2.3.3.</span> <span class="toc-text">é›†åˆå±æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BAbean"><span class="toc-number">2.4.</span> <span class="toc-text">é€šè¿‡å·¥å‚åˆ›å»ºbean</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82"><span class="toc-number">2.4.1.</span> <span class="toc-text">é™æ€å·¥å‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%B7%A5%E5%8E%82"><span class="toc-number">2.4.2.</span> <span class="toc-text">å®ä¾‹å·¥å‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FactoryBean"><span class="toc-number">2.4.3.</span> <span class="toc-text">FactoryBean</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bean%E7%9A%84%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE"><span class="toc-number">2.5.</span> <span class="toc-text">beançš„é«˜çº§é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">2.5.1.</span> <span class="toc-text">é…ç½®ä¿¡æ¯çš„ç»§æ‰¿</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bean%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="toc-number">2.5.2.</span> <span class="toc-text">beanä¹‹é—´çš„ä¾èµ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bean%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">2.5.3.</span> <span class="toc-text">beançš„ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">2.5.4.</span> <span class="toc-text">beançš„ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E5%A4%96%E9%83%A8%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6"><span class="toc-number">2.5.5.</span> <span class="toc-text">å¼•ç”¨å¤–éƒ¨å±æ€§æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="toc-number">2.5.6.</span> <span class="toc-text">è‡ªåŠ¨è£…é…</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AEbean"><span class="toc-number">2.6.</span> <span class="toc-text">é€šè¿‡æ³¨è§£é…ç½®bean</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%A0%87%E8%AF%86%E7%BB%84%E4%BB%B6"><span class="toc-number">2.6.1.</span> <span class="toc-text">ä½¿ç”¨æ³¨è§£æ ‡è¯†ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%AB%E6%8F%8F%E7%BB%84%E4%BB%B6"><span class="toc-number">2.6.2.</span> <span class="toc-text">æ‰«æç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E8%A3%85%E9%85%8D"><span class="toc-number">2.6.3.</span> <span class="toc-text">ç»„ä»¶è£…é…</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">2.7.</span> <span class="toc-text">æ³›å‹ä¾èµ–æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.7.1.</span> <span class="toc-text">å®ç°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AOP"><span class="toc-number">3.</span> <span class="toc-text">AOP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.</span> <span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD"><span class="toc-number">3.2.</span> <span class="toc-text">ç›¸å…³æœ¯è¯­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E7%BB%86%E8%8A%82"><span class="toc-number">3.3.</span> <span class="toc-text">ç›¸å…³ç»†èŠ‚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.3.1.</span> <span class="toc-text">åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%93%E5%89%8D%E8%BF%9E%E6%8E%A5%E7%82%B9"><span class="toc-number">3.4.</span> <span class="toc-text">å½“å‰è¿æ¥ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5"><span class="toc-number">3.5.</span> <span class="toc-text">é€šçŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%BD%AE%E9%80%9A%E7%9F%A5"><span class="toc-number">3.5.1.</span> <span class="toc-text">å‰ç½®é€šçŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8E%E7%BD%AE%E9%80%9A%E7%9F%A5"><span class="toc-number">3.5.2.</span> <span class="toc-text">åç½®é€šçŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E9%80%9A%E7%9F%A5"><span class="toc-number">3.5.3.</span> <span class="toc-text">è¿”å›é€šçŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E9%80%9A%E7%9F%A5"><span class="toc-number">3.5.4.</span> <span class="toc-text">å¼‚å¸¸é€šçŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%AF%E7%BB%95%E9%80%9A%E7%9F%A5"><span class="toc-number">3.5.5.</span> <span class="toc-text">ç¯ç»•é€šçŸ¥</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2020/10/25/Spring/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="rayucan"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Spring</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2020-10-25 00:00:00" itemprop="dateCreated datePublished" datetime="2020-10-25T00:00:00+08:00">2020-10-25</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2023-07-17 11:26:15" itemprop="dateModified" datetime="2023-07-17T11:26:15+08:00">2023-07-17</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray" itemprop="url" rel="index"><span itemprop="text">ç¬”è®°</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Java/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Java</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h2 id="Springç®€ä»‹"><a href="#Springç®€ä»‹" class="headerlink" title="Springç®€ä»‹"></a>Springç®€ä»‹</h2><p>â‘ Springæ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ã€‚</p>
<p>â‘¡Springæ˜¯ä¸€ä¸ª<strong>IOC</strong>(DI)å’Œ<strong>AOP</strong>å®¹å™¨æ¡†æ¶ã€‚</p>
<p>â‘¢Springä¸ºç®€åŒ–ä¼ä¸šçº§å¼€å‘è€Œç”Ÿã€‚</p>
<h3 id="Springçš„ä¼˜è‰¯ç‰¹æ€§"><a href="#Springçš„ä¼˜è‰¯ç‰¹æ€§" class="headerlink" title="Springçš„ä¼˜è‰¯ç‰¹æ€§"></a>Springçš„ä¼˜è‰¯ç‰¹æ€§</h3><p>[1]<strong>éä¾µå…¥å¼</strong>ï¼šåŸºäºSpringå¼€å‘çš„åº”ç”¨ä¸­çš„å¯¹è±¡å¯ä»¥ä¸ä¾èµ–äºSpringçš„API</p>
<p>[2]<strong>ä¾èµ–æ³¨å…¥</strong>ï¼šDIâ€”â€”Dependency Injectionï¼Œåè½¬æ§åˆ¶(IOC)æœ€ç»å…¸çš„å®ç°ã€‚</p>
<p>[3]<strong>é¢å‘åˆ‡é¢ç¼–ç¨‹</strong>ï¼šAspect Oriented Programmingâ€”â€”AOP</p>
<p>[4]<strong>å®¹å™¨</strong>ï¼šSpringæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå› ä¸ºå®ƒåŒ…å«å¹¶ä¸”ç®¡ç†åº”ç”¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</p>
<p>[5]<strong>ç»„ä»¶åŒ–</strong>ï¼šSpringå®ç°äº†ä½¿ç”¨ç®€å•çš„ç»„ä»¶é…ç½®ç»„åˆæˆä¸€ä¸ªå¤æ‚çš„åº”ç”¨ã€‚åœ¨ Spring ä¸­å¯ä»¥ä½¿ç”¨XMLå’ŒJavaæ³¨è§£ç»„åˆè¿™äº›å¯¹è±¡ã€‚</p>
<p>[6]<strong>ä¸€ç«™å¼</strong>ï¼šåœ¨IOCå’ŒAOPçš„åŸºç¡€ä¸Šå¯ä»¥æ•´åˆå„ç§ä¼ä¸šåº”ç”¨çš„å¼€æºæ¡†æ¶å’Œä¼˜ç§€çš„ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆå®é™…ä¸ŠSpring è‡ªèº«ä¹Ÿæä¾›äº†è¡¨è¿°å±‚çš„SpringMVCå’ŒæŒä¹…å±‚çš„Spring JDBCï¼‰ã€‚</p>
<h3 id="Springæ¨¡å—"><a href="#Springæ¨¡å—" class="headerlink" title="Springæ¨¡å—"></a>Springæ¨¡å—</h3><p><img src="https://cdn.jsdelivr.net/gh/Rayucan/imageCloud/data/20210202151027.jpeg" alt="BmlzGD.jpg" loading="lazy"></p>
<h2 id="IOCå®¹å™¨"><a href="#IOCå®¹å™¨" class="headerlink" title="IOCå®¹å™¨"></a>IOCå®¹å™¨</h2><h3 id="å…³äºIOCå’ŒDI"><a href="#å…³äºIOCå’ŒDI" class="headerlink" title="å…³äºIOCå’ŒDI"></a>å…³äºIOCå’ŒDI</h3><p>â‘ IOC(<strong>Inversion of Control</strong>)ï¼š<strong>åè½¬æ§åˆ¶</strong>ã€‚</p>
<p>åœ¨åº”ç”¨ç¨‹åºä¸­çš„ç»„ä»¶éœ€è¦è·å–èµ„æºæ—¶ï¼Œä¼ ç»Ÿçš„æ–¹å¼æ˜¯ç»„ä»¶ä¸»åŠ¨çš„ä»å®¹å™¨ä¸­è·å–æ‰€éœ€è¦çš„èµ„æºï¼Œåœ¨è¿™æ ·çš„æ¨¡å¼ä¸‹å¼€å‘äººå‘˜å¾€å¾€éœ€è¦çŸ¥é“åœ¨å…·ä½“å®¹å™¨ä¸­ç‰¹å®šèµ„æºçš„è·å–æ–¹å¼ï¼Œå¢åŠ äº†å­¦ä¹ æˆæœ¬ï¼ŒåŒæ—¶é™ä½äº†å¼€å‘æ•ˆç‡ã€‚</p>
<p>åè½¬æ§åˆ¶çš„æ€æƒ³å®Œå…¨é¢ è¦†äº†åº”ç”¨ç¨‹åºç»„ä»¶è·å–èµ„æºçš„ä¼ ç»Ÿæ–¹å¼ï¼šåè½¬äº†èµ„æºçš„è·å–æ–¹å‘â€”â€”æ”¹ç”±å®¹å™¨ä¸»åŠ¨çš„å°†èµ„æºæ¨é€ç»™éœ€è¦çš„ç»„ä»¶ï¼Œå¼€å‘äººå‘˜ä¸éœ€è¦çŸ¥é“å®¹å™¨æ˜¯å¦‚ä½•åˆ›å»ºèµ„æºå¯¹è±¡çš„ï¼Œåªéœ€è¦æä¾›æ¥æ”¶èµ„æºçš„æ–¹å¼å³å¯ï¼Œæå¤§çš„é™ä½äº†å­¦ä¹ æˆæœ¬ï¼Œæé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚è¿™ç§è¡Œä¸ºä¹Ÿç§°ä¸ºæŸ¥æ‰¾çš„è¢«åŠ¨å½¢å¼ã€‚</p>
<p>â‘¡DI(<strong>Dependency Injection</strong>)ï¼š<strong>ä¾èµ–æ³¨å…¥</strong>ã€‚</p>
<p>IOCçš„å¦ä¸€ç§è¡¨è¿°æ–¹å¼ï¼šå³ç»„ä»¶ä»¥ä¸€äº›é¢„å…ˆå®šä¹‰å¥½çš„æ–¹å¼(ä¾‹å¦‚ï¼šsetter æ–¹æ³•)æ¥å—æ¥è‡ªäºå®¹å™¨çš„èµ„æºæ³¨å…¥ã€‚ç›¸å¯¹äºIOCè€Œè¨€ï¼Œè¿™ç§è¡¨è¿°æ›´ç›´æ¥ã€‚</p>
<p>â‘¢IOCå®¹å™¨åœ¨Springä¸­çš„å®ç°</p>
<p>[1]åœ¨é€šè¿‡IOCå®¹å™¨è¯»å–Beançš„å®ä¾‹ä¹‹å‰ï¼Œéœ€è¦å…ˆå°†IOCå®¹å™¨æœ¬èº«å®ä¾‹åŒ–ã€‚</p>
<p>[2]Springæä¾›äº†IOCå®¹å™¨çš„ä¸¤ç§å®ç°æ–¹å¼</p>
<p>â€‹        (1)BeanFactoryï¼šIOCå®¹å™¨çš„åŸºæœ¬å®ç°ï¼Œæ˜¯Springå†…éƒ¨çš„åŸºç¡€è®¾æ–½ï¼Œæ˜¯é¢å‘Springæœ¬èº«çš„ï¼Œä¸æ˜¯æä¾›ç»™å¼€å‘äººå‘˜ä½¿ç”¨çš„ã€‚</p>
<p>â€‹        (2)ApplicationContextï¼šBeanFactoryçš„å­æ¥å£ï¼Œæä¾›äº†æ›´å¤šé«˜çº§ç‰¹æ€§ã€‚é¢å‘Springçš„ä½¿ç”¨è€…ï¼Œå‡ ä¹æ‰€æœ‰åœºåˆéƒ½ä½¿ç”¨ApplicationContextè€Œä¸æ˜¯åº•å±‚çš„BeanFactoryã€‚</p>
<p>â‘£ApplicationContextçš„ä¸»è¦å®ç°ç±»</p>
<p>[1]ClassPathXmlApplicationContextï¼šå¯¹åº”ç±»è·¯å¾„ä¸‹çš„XMLæ ¼å¼çš„é…ç½®æ–‡ä»¶</p>
<p>[2]FileSystemXmlApplicationContextï¼šå¯¹åº”æ–‡ä»¶ç³»ç»Ÿä¸­çš„XMLæ ¼å¼çš„é…ç½®æ–‡ä»¶</p>
<p>[3]åœ¨åˆå§‹åŒ–æ—¶å°±åˆ›å»ºå•ä¾‹çš„beanï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®çš„æ–¹å¼æŒ‡å®šåˆ›å»ºçš„Beanæ˜¯å¤šå®ä¾‹çš„ã€‚</p>
<p>â‘¤ConfigurableApplicationContext</p>
<p>[1]æ˜¯ApplicationContextçš„å­æ¥å£ï¼ŒåŒ…å«ä¸€äº›æ‰©å±•æ–¹æ³•</p>
<p>[2]refresh()å’Œclose()è®©ApplicationContextå…·æœ‰å¯åŠ¨ã€å…³é—­å’Œåˆ·æ–°ä¸Šä¸‹æ–‡çš„èƒ½åŠ›ã€‚</p>
<p>â‘¥WebApplicationContext</p>
<p>ä¸“é—¨ä¸ºWEBåº”ç”¨è€Œå‡†å¤‡çš„ï¼Œå®ƒå…è®¸ä»ç›¸å¯¹äºWEBæ ¹ç›®å½•çš„è·¯å¾„ä¸­å®Œæˆåˆå§‹åŒ–å·¥ä½œ</p>
<h3 id="é€šè¿‡ç±»å‹è·å–bean"><a href="#é€šè¿‡ç±»å‹è·å–bean" class="headerlink" title="é€šè¿‡ç±»å‹è·å–bean"></a>é€šè¿‡ç±»å‹è·å–bean</h3><p>ä»IOCå®¹å™¨ä¸­è·å–beanæ—¶ï¼Œé™¤äº†é€šè¿‡idå€¼è·å–ï¼Œè¿˜å¯ä»¥é€šè¿‡beançš„ç±»å‹è·å–ã€‚ä½†å¦‚æœåŒä¸€ä¸ªç±»å‹çš„beanåœ¨XMLæ–‡ä»¶ä¸­é…ç½®äº†å¤šä¸ªï¼Œåˆ™è·å–æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€ä»¥åŒä¸€ä¸ªç±»å‹çš„beanåœ¨å®¹å™¨ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">HelloWorld</span> helloWorld <span class="token operator">=</span> cxt<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">HelloWorld</span><span class="token punctuation">.</span> <span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<h3 id="ç»™beançš„å±æ€§èµ‹å€¼"><a href="#ç»™beançš„å±æ€§èµ‹å€¼" class="headerlink" title="ç»™beançš„å±æ€§èµ‹å€¼"></a>ç»™beançš„å±æ€§èµ‹å€¼</h3><h4 id="èµ‹å€¼çš„é€”å¾„"><a href="#èµ‹å€¼çš„é€”å¾„" class="headerlink" title="èµ‹å€¼çš„é€”å¾„"></a>èµ‹å€¼çš„é€”å¾„</h4><p>â‘ é€šè¿‡beançš„setxxx()æ–¹æ³•èµ‹å€¼</p>
<p>â‘¡é€šè¿‡beançš„æ„é€ å™¨èµ‹å€¼</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"book"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.Book"</span> <span class="token operator">></span>
         <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"10010"</span><span class="token operator">/</span><span class="token operator">></span>
         <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"Book01"</span><span class="token operator">/</span><span class="token operator">></span>
         <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"Author01"</span><span class="token operator">/</span><span class="token operator">></span>
         <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"20.2"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean <span class="token operator">></span></code></pre>

<p>é€šè¿‡ç´¢å¼•å€¼æŒ‡å®šå‚æ•°ä½ç½®</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"book"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.Book"</span> <span class="token operator">></span>
      <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"10010"</span> index <span class="token operator">=</span><span class="token string">"0"</span><span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"Book01"</span> index <span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"Author01"</span> index <span class="token operator">=</span><span class="token string">"2"</span><span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"20.2"</span> index <span class="token operator">=</span><span class="token string">"3"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean <span class="token operator">></span></code></pre>

<p>é€šè¿‡ç±»å‹ä¸åŒåŒºåˆ†é‡è½½çš„æ„é€ å™¨</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"book"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.Book"</span> <span class="token operator">></span>
    <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"10010"</span> index <span class="token operator">=</span><span class="token string">"0"</span> type<span class="token operator">=</span><span class="token string">"java.lang.Integer"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"Book01"</span> index <span class="token operator">=</span><span class="token string">"1"</span> type<span class="token operator">=</span><span class="token string">"java.lang.String"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"Author01"</span> index <span class="token operator">=</span><span class="token string">"2"</span> type<span class="token operator">=</span><span class="token string">"java.lang.String"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg value<span class="token operator">=</span> <span class="token string">"20.2"</span> index <span class="token operator">=</span><span class="token string">"3"</span> type<span class="token operator">=</span><span class="token string">"java.lang.Double"</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean <span class="token operator">></span></code></pre>



<p>â‘¢ç»™beançš„çº§è”å±æ€§èµ‹å€¼</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"action"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.ref.Action"</span><span class="token operator">></span>
     <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"service"</span> ref<span class="token operator">=</span><span class="token string">"service"</span><span class="token operator">/</span><span class="token operator">></span>
     <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> è®¾ç½®çº§è”å±æ€§<span class="token punctuation">(</span>äº†è§£<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">></span>
     <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"service.dao.dataSource"</span> value<span class="token operator">=</span><span class="token string">"DBCP"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>



<p>â‘£påç§°ç©ºé—´</p>
<p>ä¸ºäº†ç®€åŒ–XMLæ–‡ä»¶çš„é…ç½®ï¼Œè¶Šæ¥è¶Šå¤šçš„XMLæ–‡ä»¶é‡‡ç”¨å±æ€§è€Œéå­å…ƒç´ é…ç½®ä¿¡æ¯ã€‚</p>
<p>Springä»2.5ç‰ˆæœ¬å¼€å§‹å¼•å…¥äº†ä¸€ä¸ªæ–°çš„på‘½åç©ºé—´ï¼Œå¯ä»¥é€šè¿‡<bean>å…ƒç´ å±æ€§çš„æ–¹å¼é…ç½®Beançš„å±æ€§ã€‚</p>
<p>ä½¿ç”¨på‘½åç©ºé—´åï¼ŒåŸºäºXMLçš„é…ç½®æ–¹å¼å°†è¿›ä¸€æ­¥ç®€åŒ–ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean 
	id<span class="token operator">=</span><span class="token string">"studentSuper"</span> 
	<span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.helloworld.bean.Student"</span>
	p<span class="token operator">:</span>studentId<span class="token operator">=</span><span class="token string">"2002"</span> p<span class="token operator">:</span>stuName<span class="token operator">=</span><span class="token string">"Jerry2016"</span> p<span class="token operator">:</span>age<span class="token operator">=</span><span class="token string">"18"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre>



<h4 id="å¯ä»¥ä½¿ç”¨çš„å€¼"><a href="#å¯ä»¥ä½¿ç”¨çš„å€¼" class="headerlink" title="å¯ä»¥ä½¿ç”¨çš„å€¼"></a>å¯ä»¥ä½¿ç”¨çš„å€¼</h4><p>â‘ å­—é¢é‡</p>
<p>[1]å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„å€¼ï¼Œå¯ä»¥é€šè¿‡valueå±æ€§æˆ–valueå­èŠ‚ç‚¹çš„æ–¹å¼æŒ‡å®š</p>
<p>[2]åŸºæœ¬æ•°æ®ç±»å‹åŠå…¶å°è£…ç±»ã€Stringç­‰ç±»å‹éƒ½å¯ä»¥é‡‡å–å­—é¢å€¼æ³¨å…¥çš„æ–¹å¼</p>
<p>[3]è‹¥å­—é¢å€¼ä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨<![CDATA[]]>æŠŠå­—é¢å€¼åŒ…è£¹èµ·æ¥</p>
<p>â‘¡nullå€¼</p>
<p>â‘¢å¤–éƒ¨å·²å£°æ˜çš„bean</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"shop"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.Shop"</span> <span class="token operator">></span>
      <span class="token operator">&lt;</span>property name<span class="token operator">=</span> <span class="token string">"book"</span> ref <span class="token operator">=</span><span class="token string">"book"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean <span class="token operator">></span></code></pre>

<p>â‘£å†…éƒ¨bean</p>
<p>å½“beanå®ä¾‹ä»…ä»…ç»™ä¸€ä¸ªç‰¹å®šçš„å±æ€§ä½¿ç”¨æ—¶ï¼Œå¯ä»¥å°†å…¶å£°æ˜ä¸ºå†…éƒ¨beanã€‚å†…éƒ¨beanå£°æ˜ç›´æ¥åŒ…å«åœ¨<property>æˆ–<constructor-arg>å…ƒç´ é‡Œï¼Œä¸éœ€è¦è®¾ç½®ä»»ä½•idæˆ–nameå±æ€§ã€‚</p>
<p>å†…éƒ¨beanä¸èƒ½ä½¿ç”¨åœ¨ä»»ä½•å…¶ä»–åœ°æ–¹ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"shop2"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.Shop"</span> <span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span> <span class="token string">"book"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>bean <span class="token keyword">class</span><span class="token operator">=</span> <span class="token string">"com.atguigu.spring.bean.Book"</span> <span class="token operator">></span>
           <span class="token operator">&lt;</span>property name<span class="token operator">=</span> <span class="token string">"bookId"</span> value <span class="token operator">=</span><span class="token string">"1000"</span><span class="token operator">/</span><span class="token operator">></span>
           <span class="token operator">&lt;</span>property name<span class="token operator">=</span> <span class="token string">"bookName"</span> value<span class="token operator">=</span><span class="token string">"innerBook"</span> <span class="token operator">/</span><span class="token operator">></span>
           <span class="token operator">&lt;</span>property name<span class="token operator">=</span> <span class="token string">"author"</span> value<span class="token operator">=</span><span class="token string">"innerAuthor"</span> <span class="token operator">/</span><span class="token operator">></span>
           <span class="token operator">&lt;</span>property name<span class="token operator">=</span> <span class="token string">"price"</span> value <span class="token operator">=</span><span class="token string">"50"</span><span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean <span class="token operator">></span></code></pre>



<h4 id="é›†åˆå±æ€§"><a href="#é›†åˆå±æ€§" class="headerlink" title="é›†åˆå±æ€§"></a>é›†åˆå±æ€§</h4><p>åœ¨Springä¸­å¯ä»¥é€šè¿‡ä¸€ç»„å†…ç½®çš„XMLæ ‡ç­¾æ¥é…ç½®é›†åˆå±æ€§ï¼Œä¾‹å¦‚ï¼š<list>ï¼Œ<set>æˆ–<map>ã€‚</p>
<p><strong>â‘ æ•°ç»„å’ŒList</strong></p>
<p>é…ç½®java.util.Listç±»å‹çš„å±æ€§ï¼Œéœ€è¦æŒ‡å®š<list>æ ‡ç­¾ï¼Œåœ¨æ ‡ç­¾é‡ŒåŒ…å«ä¸€äº›å…ƒç´ ã€‚è¿™äº›æ ‡ç­¾å¯ä»¥é€šè¿‡<value>æŒ‡å®šç®€å•çš„å¸¸é‡å€¼ï¼Œé€šè¿‡<ref>æŒ‡å®šå¯¹å…¶ä»–Beançš„å¼•ç”¨ã€‚é€šè¿‡<bean>æŒ‡å®šå†…ç½®beanå®šä¹‰ã€‚é€šè¿‡<null/>æŒ‡å®šç©ºå…ƒç´ ã€‚ç”šè‡³å¯ä»¥å†…åµŒå…¶ä»–é›†åˆã€‚</p>
<p>æ•°ç»„çš„å®šä¹‰å’ŒListä¸€æ ·ï¼Œéƒ½ä½¿ç”¨<list>å…ƒç´ ã€‚</p>
<p>é…ç½®java.util.Setéœ€è¦ä½¿ç”¨<set>æ ‡ç­¾ï¼Œå®šä¹‰çš„æ–¹æ³•ä¸Listä¸€æ ·ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"shop"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.Shop"</span> <span class="token operator">></span>
      <span class="token operator">&lt;</span>property name<span class="token operator">=</span> <span class="token string">"categoryList"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ä»¥å­—é¢é‡ä¸ºå€¼çš„<span class="token class-name">List</span>é›†åˆ <span class="token operator">--</span><span class="token operator">></span>
          <span class="token generics"><span class="token punctuation">&lt;</span>list<span class="token punctuation">></span></span>
               <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">></span></span> å†å²<span class="token operator">&lt;</span><span class="token operator">/</span>value <span class="token operator">></span>
               <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">></span></span> å†›äº‹<span class="token operator">&lt;</span><span class="token operator">/</span>value <span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>list<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
      <span class="token operator">&lt;</span>property name<span class="token operator">=</span> <span class="token string">"bookList"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ä»¥beançš„å¼•ç”¨ä¸ºå€¼çš„<span class="token class-name">List</span>é›†åˆ <span class="token operator">--</span><span class="token operator">></span>
          <span class="token generics"><span class="token punctuation">&lt;</span>list<span class="token punctuation">></span></span>
               <span class="token operator">&lt;</span>ref bean<span class="token operator">=</span> <span class="token string">"book01"</span><span class="token operator">/</span><span class="token operator">></span>
               <span class="token operator">&lt;</span>ref bean<span class="token operator">=</span> <span class="token string">"book02"</span><span class="token operator">/</span><span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>list<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean <span class="token operator">></span></code></pre>

<p><strong>â‘¡Map</strong></p>
<p>Java.util.Mapé€šè¿‡<map>æ ‡ç­¾å®šä¹‰ï¼Œ<map>æ ‡ç­¾é‡Œå¯ä»¥ä½¿ç”¨å¤šä¸ª<entry>ä½œä¸ºå­æ ‡ç­¾ã€‚æ¯ä¸ªæ¡ç›®åŒ…å«ä¸€ä¸ªé”®å’Œä¸€ä¸ªå€¼ã€‚</p>
<p>å¿…é¡»åœ¨<key>æ ‡ç­¾é‡Œå®šä¹‰é”®ã€‚</p>
<p>å› ä¸ºé”®å’Œå€¼çš„ç±»å‹æ²¡æœ‰é™åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥è‡ªç”±åœ°ä¸ºå®ƒä»¬æŒ‡å®š<value>ã€<ref>ã€<bean>æˆ–<null/>å…ƒç´ ã€‚</p>
<p>å¯ä»¥å°†Mapçš„é”®å’Œå€¼ä½œä¸º<entry>çš„å±æ€§å®šä¹‰ï¼šç®€å•å¸¸é‡ä½¿ç”¨keyå’Œvalueæ¥å®šä¹‰ï¼›beanå¼•ç”¨é€šè¿‡key-refå’Œvalue-refå±æ€§å®šä¹‰ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cup"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.Cup"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"bookMap"</span><span class="token operator">></span>
		<span class="token generics"><span class="token punctuation">&lt;</span>map<span class="token punctuation">></span></span>
			<span class="token generics"><span class="token punctuation">&lt;</span>entry<span class="token punctuation">></span></span>
				<span class="token generics"><span class="token punctuation">&lt;</span>key<span class="token punctuation">></span></span>
					<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">></span></span>bookKey01<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">></span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>key<span class="token operator">></span>
				<span class="token operator">&lt;</span>ref bean<span class="token operator">=</span><span class="token string">"book01"</span><span class="token operator">/</span><span class="token operator">></span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>entry<span class="token operator">></span>
			<span class="token generics"><span class="token punctuation">&lt;</span>entry<span class="token punctuation">></span></span>
				<span class="token generics"><span class="token punctuation">&lt;</span>key<span class="token punctuation">></span></span>
					<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">></span></span>bookKey02<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">></span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>key<span class="token operator">></span>
				<span class="token operator">&lt;</span>ref bean<span class="token operator">=</span><span class="token string">"book02"</span><span class="token operator">/</span><span class="token operator">></span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>entry<span class="token operator">></span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>map<span class="token operator">></span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>

<p><strong>â‘¢Properties</strong></p>
<p>ä½¿ç”¨<props>å®šä¹‰java.util.Propertiesï¼Œè¯¥æ ‡ç­¾ä½¿ç”¨å¤šä¸ª<prop>ä½œä¸ºå­æ ‡ç­¾ã€‚æ¯ä¸ª<prop>æ ‡ç­¾å¿…é¡»å®šä¹‰keyå±æ€§</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.DataSource"</span> id<span class="token operator">=</span><span class="token string">"dataSource"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"properties"</span><span class="token operator">></span>
		<span class="token generics"><span class="token punctuation">&lt;</span>props<span class="token punctuation">></span></span>
			<span class="token operator">&lt;</span>prop key<span class="token operator">=</span><span class="token string">"userName"</span><span class="token operator">></span>root<span class="token operator">&lt;</span><span class="token operator">/</span>prop<span class="token operator">></span>
			<span class="token operator">&lt;</span>prop key<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">></span>root<span class="token operator">&lt;</span><span class="token operator">/</span>prop<span class="token operator">></span>
			<span class="token operator">&lt;</span>prop key<span class="token operator">=</span><span class="token string">"url"</span><span class="token operator">></span>jdbc<span class="token operator">:</span>mysql<span class="token operator">:</span><span class="token operator">/</span><span class="token comment">//test&lt;/prop></span>
			<span class="token operator">&lt;</span>prop key<span class="token operator">=</span><span class="token string">"driverClass"</span><span class="token operator">></span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>Driver</span><span class="token operator">&lt;</span><span class="token operator">/</span>prop<span class="token operator">></span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>props<span class="token operator">></span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span>
<span class="token operator">&lt;</span>bean <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.DataSource"</span> id<span class="token operator">=</span><span class="token string">"dataSource"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"properties"</span><span class="token operator">></span>
		<span class="token generics"><span class="token punctuation">&lt;</span>props<span class="token punctuation">></span></span>
			<span class="token operator">&lt;</span>prop key<span class="token operator">=</span><span class="token string">"userName"</span><span class="token operator">></span>root<span class="token operator">&lt;</span><span class="token operator">/</span>prop<span class="token operator">></span>
			<span class="token operator">&lt;</span>prop key<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">></span>root<span class="token operator">&lt;</span><span class="token operator">/</span>prop<span class="token operator">></span>
			<span class="token operator">&lt;</span>prop key<span class="token operator">=</span><span class="token string">"url"</span><span class="token operator">></span>jdbc<span class="token operator">:</span>mysql<span class="token operator">:</span><span class="token operator">/</span><span class="token comment">//test&lt;/prop></span>
			<span class="token operator">&lt;</span>prop key<span class="token operator">=</span><span class="token string">"driverClass"</span><span class="token operator">></span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>Driver</span><span class="token operator">&lt;</span><span class="token operator">/</span>prop<span class="token operator">></span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>props<span class="token operator">></span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>

<p><strong>â‘£é›†åˆç±»å‹çš„bean</strong></p>
<p>å¦‚æœåªèƒ½å°†é›†åˆå¯¹è±¡é…ç½®åœ¨æŸä¸ªbeanå†…éƒ¨ï¼Œåˆ™è¿™ä¸ªé›†åˆçš„é…ç½®å°†ä¸èƒ½é‡ç”¨ã€‚æˆ‘ä»¬éœ€è¦å°†é›†åˆbeançš„é…ç½®æ‹¿åˆ°å¤–é¢ï¼Œä¾›å…¶ä»–beanå¼•ç”¨ã€‚</p>
<p>é…ç½®é›†åˆç±»å‹çš„beanéœ€è¦å¼•å…¥utilåç§°ç©ºé—´</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>util<span class="token operator">:</span>list id<span class="token operator">=</span><span class="token string">"bookList"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>ref bean<span class="token operator">=</span><span class="token string">"book01"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>ref bean<span class="token operator">=</span><span class="token string">"book02"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>ref bean<span class="token operator">=</span><span class="token string">"book03"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>ref bean<span class="token operator">=</span><span class="token string">"book04"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>ref bean<span class="token operator">=</span><span class="token string">"book05"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>util<span class="token operator">:</span>list<span class="token operator">></span>

<span class="token operator">&lt;</span>util<span class="token operator">:</span>list id<span class="token operator">=</span><span class="token string">"categoryList"</span><span class="token operator">></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">></span></span>ç¼–ç¨‹<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">></span></span>æå®¢<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">></span></span>ç›¸å£°<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">></span></span>è¯„ä¹¦<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>util<span class="token operator">:</span>list<span class="token operator">></span></code></pre>



<h3 id="é€šè¿‡å·¥å‚åˆ›å»ºbean"><a href="#é€šè¿‡å·¥å‚åˆ›å»ºbean" class="headerlink" title="é€šè¿‡å·¥å‚åˆ›å»ºbean"></a>é€šè¿‡å·¥å‚åˆ›å»ºbean</h3><h4 id="é™æ€å·¥å‚"><a href="#é™æ€å·¥å‚" class="headerlink" title="é™æ€å·¥å‚"></a>é™æ€å·¥å‚</h4><p>è°ƒç”¨é™æ€å·¥å‚æ–¹æ³•åˆ›å»ºbeanæ˜¯å°†å¯¹è±¡åˆ›å»ºçš„è¿‡ç¨‹å°è£…åˆ°é™æ€æ–¹æ³•ä¸­ã€‚å½“å®¢æˆ·ç«¯éœ€è¦å¯¹è±¡æ—¶ï¼Œåªéœ€è¦ç®€å•åœ°è°ƒç”¨é™æ€æ–¹æ³•ï¼Œè€Œä¸ç”¨å…³å¿ƒåˆ›å»ºå¯¹è±¡çš„ç»†èŠ‚ã€‚</p>
<p>å£°æ˜é€šè¿‡é™æ€æ–¹æ³•åˆ›å»ºçš„beanéœ€è¦åœ¨beançš„classå±æ€§é‡ŒæŒ‡å®šé™æ€å·¥å‚ç±»çš„å…¨ç±»åï¼ŒåŒæ—¶åœ¨factory-methodå±æ€§é‡ŒæŒ‡å®šå·¥å‚æ–¹æ³•çš„åç§°ã€‚æœ€åä½¿ç”¨<constrctor-arg>å…ƒç´ ä¸ºè¯¥æ–¹æ³•ä¼ é€’æ–¹æ³•å‚æ•°ã€‚</p>
<h4 id="å®ä¾‹å·¥å‚"><a href="#å®ä¾‹å·¥å‚" class="headerlink" title="å®ä¾‹å·¥å‚"></a>å®ä¾‹å·¥å‚</h4><p>å®ä¾‹å·¥å‚æ–¹æ³•ï¼šå°†å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹å°è£…åˆ°å¦å¤–ä¸€ä¸ªå¯¹è±¡å®ä¾‹çš„æ–¹æ³•é‡Œã€‚å½“å®¢æˆ·ç«¯éœ€è¦è¯·æ±‚å¯¹è±¡æ—¶ï¼Œåªéœ€è¦ç®€å•çš„è°ƒç”¨è¯¥å®ä¾‹æ–¹æ³•è€Œä¸éœ€è¦å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºç»†èŠ‚ã€‚</p>
<p>å®ç°æ–¹å¼</p>
<p><strong>â‘ é…ç½®å·¥å‚ç±»å®ä¾‹çš„bean</strong></p>
<p><strong>â‘¡åœ¨factory-methodå±æ€§é‡ŒæŒ‡å®šè¯¥å·¥å‚æ–¹æ³•çš„åç§°</strong></p>
<p><strong>â‘¢ä½¿ç”¨ construtor-arg å…ƒç´ ä¸ºå·¥å‚æ–¹æ³•ä¼ é€’æ–¹æ³•å‚æ•°</strong></p>
<h4 id="FactoryBean"><a href="#FactoryBean" class="headerlink" title="FactoryBean"></a>FactoryBean</h4><p>Springä¸­æœ‰ä¸¤ç§ç±»å‹çš„beanï¼Œä¸€ç§æ˜¯æ™®é€šbeanï¼Œå¦ä¸€ç§æ˜¯å·¥å‚beanï¼Œå³FactoryBeanã€‚</p>
<p>å·¥å‚beanè·Ÿæ™®é€šbeanä¸åŒï¼Œå…¶è¿”å›çš„å¯¹è±¡ä¸æ˜¯æŒ‡å®šç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œå…¶è¿”å›çš„æ˜¯è¯¥å·¥å‚beançš„getObjectæ–¹æ³•æ‰€è¿”å›çš„å¯¹è±¡ã€‚</p>
<p>å·¥å‚beanå¿…é¡»å®ç°<em><strong>org.springframework.beans.factory.FactoryBean</strong></em>æ¥å£ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"product"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.spring.bean.ProductFactory"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"productName"</span> value<span class="token operator">=</span><span class="token string">"Mp3"</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>

<h3 id="beançš„é«˜çº§é…ç½®"><a href="#beançš„é«˜çº§é…ç½®" class="headerlink" title="beançš„é«˜çº§é…ç½®"></a>beançš„é«˜çº§é…ç½®</h3><h4 id="é…ç½®ä¿¡æ¯çš„ç»§æ‰¿"><a href="#é…ç½®ä¿¡æ¯çš„ç»§æ‰¿" class="headerlink" title="é…ç½®ä¿¡æ¯çš„ç»§æ‰¿"></a>é…ç½®ä¿¡æ¯çš„ç»§æ‰¿</h4><p><strong>â‘ èƒŒæ™¯</strong></p>
<p>æŸ¥çœ‹ä¸‹é¢ä¸¤ä¸ªEmployeeçš„é…ç½®ï¼Œå…¶ä¸­deptå±æ€§æ˜¯é‡å¤çš„ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dept"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.parent.bean.Department"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"deptId"</span> value<span class="token operator">=</span><span class="token string">"100"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"deptName"</span> value<span class="token operator">=</span><span class="token string">"IT"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span>

<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"emp01"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.parent.bean.Employee"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"empId"</span> value<span class="token operator">=</span><span class="token string">"1001"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"empName"</span> value<span class="token operator">=</span><span class="token string">"Tom"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"age"</span> value<span class="token operator">=</span><span class="token string">"20"</span><span class="token operator">/</span><span class="token operator">></span>

	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> é‡å¤çš„å±æ€§å€¼ <span class="token operator">--</span><span class="token operator">></span>	
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"detp"</span> ref<span class="token operator">=</span><span class="token string">"dept"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span>

<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"emp02"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.parent.bean.Employee"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"empId"</span> value<span class="token operator">=</span><span class="token string">"1002"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"empName"</span> value<span class="token operator">=</span><span class="token string">"Jerry"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"age"</span> value<span class="token operator">=</span><span class="token string">"25"</span><span class="token operator">/</span><span class="token operator">></span>

	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> é‡å¤çš„å±æ€§å€¼ <span class="token operator">--</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"detp"</span> ref<span class="token operator">=</span><span class="token string">"dept"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>

<p><strong>â‘¡é…ç½®ä¿¡æ¯çš„ç»§æ‰¿</strong></p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ä»¥emp01ä½œä¸ºçˆ¶beanï¼Œç»§æ‰¿åå¯ä»¥çœç•¥å…¬å…±å±æ€§å€¼çš„é…ç½® <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"emp02"</span> parent<span class="token operator">=</span><span class="token string">"emp01"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"empId"</span> value<span class="token operator">=</span><span class="token string">"1002"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"empName"</span> value<span class="token operator">=</span><span class="token string">"Jerry"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"age"</span> value<span class="token operator">=</span><span class="token string">"25"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>

<p>Springå…è®¸ç»§æ‰¿beançš„é…ç½®ï¼Œè¢«ç»§æ‰¿çš„beanç§°ä¸ºçˆ¶beanã€‚ç»§æ‰¿è¿™ä¸ªçˆ¶beançš„beanç§°ä¸ºå­bean</p>
<p>å­beanä»çˆ¶beanä¸­ç»§æ‰¿é…ç½®ï¼ŒåŒ…æ‹¬beançš„å±æ€§é…ç½®</p>
<p>å­beanä¹Ÿå¯ä»¥è¦†ç›–ä»çˆ¶beanç»§æ‰¿è¿‡æ¥çš„é…ç½®</p>
<p><strong>â‘¢è¡¥å……è¯´æ˜</strong></p>
<p>çˆ¶beanå¯ä»¥ä½œä¸ºé…ç½®æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºbeanå®ä¾‹ã€‚è‹¥åªæƒ³æŠŠçˆ¶beanä½œä¸ºæ¨¡æ¿ï¼Œå¯ä»¥è®¾ç½®<bean>çš„abstract å±æ€§ä¸ºtrueï¼Œè¿™æ ·Springå°†ä¸ä¼šå®ä¾‹åŒ–è¿™ä¸ªbean</p>
<p>å¦‚æœä¸€ä¸ªbeançš„classå±æ€§æ²¡æœ‰æŒ‡å®šï¼Œåˆ™å¿…é¡»æ˜¯æŠ½è±¡bean</p>
<p>å¹¶ä¸æ˜¯<bean>å…ƒç´ é‡Œçš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«ç»§æ‰¿ã€‚æ¯”å¦‚ï¼šautowireï¼Œabstractç­‰ã€‚</p>
<p>ä¹Ÿå¯ä»¥å¿½ç•¥çˆ¶beançš„classå±æ€§ï¼Œè®©å­beanæŒ‡å®šè‡ªå·±çš„ç±»ï¼Œè€Œå…±äº«ç›¸åŒçš„å±æ€§é…ç½®ã€‚ä½†æ­¤æ—¶abstractå¿…é¡»è®¾ä¸ºtrueã€‚</p>
<h4 id="beanä¹‹é—´çš„ä¾èµ–"><a href="#beanä¹‹é—´çš„ä¾èµ–" class="headerlink" title="beanä¹‹é—´çš„ä¾èµ–"></a>beanä¹‹é—´çš„ä¾èµ–</h4><p>æœ‰çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªbeançš„æ—¶å€™éœ€è¦ä¿è¯å¦å¤–ä¸€ä¸ªbeanä¹Ÿè¢«åˆ›å»ºï¼Œè¿™æ—¶æˆ‘ä»¬ç§°å‰é¢çš„beanå¯¹åé¢çš„beanæœ‰ä¾èµ–ã€‚ä¾‹å¦‚ï¼šè¦æ±‚åˆ›å»ºEmployeeå¯¹è±¡çš„æ—¶å€™å¿…é¡»åˆ›å»ºDepartmentã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ä¾èµ–å…³ç³»ä¸ç­‰äºå¼•ç”¨å…³ç³»ï¼ŒEmployeeå³ä½¿ä¾èµ–Departmentä¹Ÿå¯ä»¥ä¸å¼•ç”¨å®ƒã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"emp03"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.atguigu.parent.bean.Employee"</span> depends<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"dept"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"empId"</span> value<span class="token operator">=</span><span class="token string">"1003"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"empName"</span> value<span class="token operator">=</span><span class="token string">"Kate"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"age"</span> value<span class="token operator">=</span><span class="token string">"21"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>

<h4 id="beançš„ä½œç”¨åŸŸ"><a href="#beançš„ä½œç”¨åŸŸ" class="headerlink" title="beançš„ä½œç”¨åŸŸ"></a>beançš„ä½œç”¨åŸŸ</h4><p>åœ¨Springä¸­ï¼Œå¯ä»¥åœ¨<bean>å…ƒç´ çš„scopeå±æ€§é‡Œè®¾ç½®beançš„ä½œç”¨åŸŸï¼Œä»¥å†³å®šè¿™ä¸ªbeanæ˜¯å•å®ä¾‹çš„è¿˜æ˜¯å¤šå®ä¾‹çš„ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringåªä¸ºæ¯ä¸ªåœ¨IOCå®¹å™¨é‡Œå£°æ˜çš„beanåˆ›å»ºå”¯ä¸€ä¸€ä¸ªå®ä¾‹ï¼Œæ•´ä¸ªIOCå®¹å™¨èŒƒå›´å†…éƒ½èƒ½å…±äº«è¯¥å®ä¾‹ï¼šæ‰€æœ‰åç»­çš„getBean()è°ƒç”¨å’Œbeanå¼•ç”¨éƒ½å°†è¿”å›è¿™ä¸ªå”¯ä¸€çš„beanå®ä¾‹ã€‚è¯¥ä½œç”¨åŸŸè¢«ç§°ä¸ºsingletonï¼Œå®ƒæ˜¯æ‰€æœ‰beançš„é»˜è®¤ä½œç”¨åŸŸã€‚</p>
<p>å½“beançš„ä½œç”¨åŸŸä¸ºå•ä¾‹æ—¶ï¼ŒSpringä¼šåœ¨IOCå®¹å™¨å¯¹è±¡åˆ›å»ºæ—¶å°±åˆ›å»ºbeançš„å¯¹è±¡å®ä¾‹ã€‚è€Œå½“beançš„ä½œç”¨åŸŸä¸ºprototypeæ—¶ï¼ŒIOCå®¹å™¨åœ¨è·å–beançš„å®ä¾‹æ—¶åˆ›å»ºbeançš„å®ä¾‹å¯¹è±¡ã€‚</p>
<h4 id="beançš„ç”Ÿå‘½å‘¨æœŸ"><a href="#beançš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="beançš„ç”Ÿå‘½å‘¨æœŸ"></a>beançš„ç”Ÿå‘½å‘¨æœŸ</h4><p>â‘ Spring IOCå®¹å™¨å¯ä»¥ç®¡ç†beançš„ç”Ÿå‘½å‘¨æœŸï¼ŒSpringå…è®¸åœ¨beanç”Ÿå‘½å‘¨æœŸå†…ç‰¹å®šçš„æ—¶é—´ç‚¹æ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡ã€‚</p>
<p>â‘¡Spring IOCå®¹å™¨å¯¹beançš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†çš„è¿‡ç¨‹ï¼š</p>
<p>â€‹        [1]é€šè¿‡æ„é€ å™¨æˆ–å·¥å‚æ–¹æ³•åˆ›å»ºbeanå®ä¾‹</p>
<p>â€‹        [2]ä¸ºbeançš„å±æ€§è®¾ç½®å€¼å’Œå¯¹å…¶ä»–beançš„å¼•ç”¨</p>
<p>â€‹        [3]è°ƒç”¨beançš„åˆå§‹åŒ–æ–¹æ³•</p>
<p>â€‹        [4]beanå¯ä»¥ä½¿ç”¨äº†</p>
<p>â€‹        [5]å½“å®¹å™¨å…³é—­æ—¶ï¼Œè°ƒç”¨beançš„é”€æ¯æ–¹æ³•</p>
<p>â‘¢åœ¨é…ç½®beanæ—¶ï¼Œé€šè¿‡init-methodå’Œdestroy-method å±æ€§ä¸ºbeanæŒ‡å®šåˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•</p>
<p>â‘£beançš„åç½®å¤„ç†å™¨</p>
<p>â€‹        [1]beanåç½®å¤„ç†å™¨å…è®¸åœ¨è°ƒç”¨<strong>åˆå§‹åŒ–æ–¹æ³•å‰å</strong>å¯¹beanè¿›è¡Œé¢å¤–çš„å¤„ç†</p>
<p>â€‹        [2]beanåç½®å¤„ç†å™¨å¯¹IOCå®¹å™¨é‡Œçš„æ‰€æœ‰beanå®ä¾‹é€ä¸€å¤„ç†ï¼Œè€Œéå•ä¸€å®ä¾‹ã€‚å…¶å…¸å‹åº”ç”¨æ˜¯ï¼šæ£€æŸ¥beanå±æ€§çš„æ­£ç¡®æ€§æˆ–æ ¹æ®ç‰¹å®šçš„æ ‡å‡†æ›´æ”¹beançš„å±æ€§ã€‚</p>
<p>â€‹        [3] beanåç½®å¤„ç†å™¨æ—¶éœ€è¦å®ç°æ¥å£ï¼šorg.springframework.beans.factory.config.BeanPostProcessorã€‚åœ¨åˆå§‹åŒ–æ–¹æ³•è¢«è°ƒç”¨å‰åï¼ŒSpringå°†æŠŠæ¯ä¸ªbeanå®ä¾‹åˆ†åˆ«ä¼ é€’ç»™ä¸Šè¿°æ¥å£çš„ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<p>â€‹        â—postProcessBeforeInitialization(Object, String)</p>
<p>â€‹        â—postProcessAfterInitialization(Object, String)</p>
<p>â‘¤æ·»åŠ beanåç½®å¤„ç†å™¨åbeançš„ç”Ÿå‘½å‘¨æœŸ</p>
<p>â€‹        [1]é€šè¿‡æ„é€ å™¨æˆ–å·¥å‚æ–¹æ³•<strong>åˆ›å»º<strong><strong>bean</strong></strong>å®ä¾‹</strong></p>
<p>â€‹        [2]ä¸ºbeançš„<strong>å±æ€§è®¾ç½®å€¼</strong>å’Œå¯¹å…¶ä»–beançš„å¼•ç”¨</p>
<p>â€‹        [3]å°†beanå®ä¾‹ä¼ é€’ç»™beanåç½®å¤„ç†å™¨çš„**postProcessBeforeInitialization()**æ–¹æ³•</p>
<p>â€‹        [4]è°ƒç”¨beançš„<strong>åˆå§‹åŒ–</strong>æ–¹æ³•</p>
<p>â€‹        [5]å°†beanå®ä¾‹ä¼ é€’ç»™beanåç½®å¤„ç†å™¨çš„**postProcessAfterInitialization()**æ–¹æ³•</p>
<p>â€‹        [6]beanå¯ä»¥ä½¿ç”¨äº†</p>
<p>â€‹        [7]å½“å®¹å™¨å…³é—­æ—¶è°ƒç”¨beançš„<strong>é”€æ¯æ–¹æ³•</strong></p>
<h4 id="å¼•ç”¨å¤–éƒ¨å±æ€§æ–‡ä»¶"><a href="#å¼•ç”¨å¤–éƒ¨å±æ€§æ–‡ä»¶" class="headerlink" title="å¼•ç”¨å¤–éƒ¨å±æ€§æ–‡ä»¶"></a>å¼•ç”¨å¤–éƒ¨å±æ€§æ–‡ä»¶</h4><p>å½“beançš„é…ç½®ä¿¡æ¯é€æ¸å¢å¤šæ—¶ï¼ŒæŸ¥æ‰¾å’Œä¿®æ”¹ä¸€äº›beançš„é…ç½®ä¿¡æ¯å°±å˜å¾—æ„ˆåŠ å›°éš¾ã€‚è¿™æ—¶å¯ä»¥å°†ä¸€éƒ¨åˆ†ä¿¡æ¯æå–åˆ°beané…ç½®æ–‡ä»¶çš„å¤–éƒ¨ï¼Œä»¥propertiesæ ¼å¼çš„å±æ€§æ–‡ä»¶ä¿å­˜èµ·æ¥ï¼ŒåŒæ—¶åœ¨beançš„é…ç½®æ–‡ä»¶ä¸­å¼•ç”¨propertieså±æ€§æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œä»è€Œå®ç°ä¸€éƒ¨åˆ†å±æ€§å€¼åœ¨å‘ç”Ÿå˜åŒ–æ—¶ä»…ä¿®æ”¹propertieså±æ€§æ–‡ä»¶å³å¯ã€‚è¿™ç§æŠ€æœ¯å¤šç”¨äºè¿æ¥æ•°æ®åº“çš„åŸºæœ¬ä¿¡æ¯çš„é…ç½®ã€‚</p>
<p>â‘ ç›´æ¥é…ç½®</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ç›´æ¥é…ç½® <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dataSource"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"root"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"password"</span> value<span class="token operator">=</span><span class="token string">"root"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"jdbcUrl"</span> value<span class="token operator">=</span><span class="token string">"jdbc:mysql:///test"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"driverClass"</span> value<span class="token operator">=</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>

<p>â‘¡åˆ›å»ºpropertieså±æ€§æ–‡ä»¶</p>
<pre class="language-java" data-language="java"><code class="language-java">prop<span class="token punctuation">.</span>userName<span class="token operator">=</span>root
prop<span class="token punctuation">.</span>password<span class="token operator">=</span>root
prop<span class="token punctuation">.</span>url<span class="token operator">=</span>jdbc<span class="token operator">:</span>mysql<span class="token operator">:</span><span class="token operator">/</span><span class="token comment">//test</span>
prop<span class="token punctuation">.</span>driverClass<span class="token operator">=</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>Driver</span></code></pre>

<p>â‘¢å¼•å…¥contextåç§°ç©ºé—´</p>
<p>â‘£æŒ‡å®špropertieså±æ€§æ–‡ä»¶çš„ä½ç½®</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æŒ‡å®špropertieså±æ€§æ–‡ä»¶çš„ä½ç½® <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> classpath<span class="token operator">:</span>xxx è¡¨ç¤ºå±æ€§æ–‡ä»¶ä½äºç±»è·¯å¾„ä¸‹ <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>context<span class="token operator">:</span>property<span class="token operator">-</span>placeholder location<span class="token operator">=</span><span class="token string">"classpath:jdbc.properties"</span><span class="token operator">/</span><span class="token operator">></span></code></pre>

<p>â‘¤ä»propertieså±æ€§æ–‡ä»¶ä¸­å¼•å…¥å±æ€§å€¼</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ä»propertieså±æ€§æ–‡ä»¶ä¸­å¼•å…¥å±æ€§å€¼ <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dataSource"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"$&#123;prop.userName&#125;"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"password"</span> value<span class="token operator">=</span><span class="token string">"$&#123;prop.password&#125;"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"jdbcUrl"</span> value<span class="token operator">=</span><span class="token string">"$&#123;prop.url&#125;"</span><span class="token operator">/</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"driverClass"</span> value<span class="token operator">=</span><span class="token string">"$&#123;prop.driverClass&#125;"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span></code></pre>

<h4 id="è‡ªåŠ¨è£…é…"><a href="#è‡ªåŠ¨è£…é…" class="headerlink" title="è‡ªåŠ¨è£…é…"></a>è‡ªåŠ¨è£…é…</h4><p><strong>â‘ è‡ªåŠ¨è£…é…çš„æ¦‚å¿µ</strong></p>
<p>[1]æ‰‹åŠ¨è£…é…ï¼šä»¥valueæˆ–refçš„æ–¹å¼<strong>æ˜ç¡®æŒ‡å®šå±æ€§å€¼</strong>éƒ½æ˜¯æ‰‹åŠ¨è£…é…ã€‚</p>
<p>[2]è‡ªåŠ¨è£…é…ï¼šæ ¹æ®æŒ‡å®šçš„è£…é…è§„åˆ™ï¼Œ<strong>ä¸éœ€è¦æ˜ç¡®æŒ‡å®š</strong>ï¼ŒSpring<strong>è‡ªåŠ¨</strong>å°†åŒ¹é…çš„å±æ€§å€¼<strong>æ³¨å…¥</strong>beanä¸­ã€‚</p>
<p><strong>â‘¡è£…é…æ¨¡å¼</strong></p>
<p>[1]æ ¹æ®<strong>ç±»å‹</strong>è‡ªåŠ¨è£…é…ï¼šå°†ç±»å‹åŒ¹é…çš„beanä½œä¸ºå±æ€§æ³¨å…¥åˆ°å¦ä¸€ä¸ªbeanä¸­ã€‚è‹¥IOCå®¹å™¨ä¸­æœ‰å¤šä¸ªä¸ç›®æ ‡beanç±»å‹ä¸€è‡´çš„beanï¼ŒSpringå°†æ— æ³•åˆ¤å®šå“ªä¸ªbeanæœ€åˆé€‚è¯¥å±æ€§ï¼Œæ‰€ä»¥ä¸èƒ½æ‰§è¡Œè‡ªåŠ¨è£…é…</p>
<p>[2]æ ¹æ®<strong>åç§°</strong>è‡ªåŠ¨è£…é…ï¼šå¿…é¡»å°†ç›®æ ‡beançš„åç§°å’Œå±æ€§åè®¾ç½®çš„å®Œå…¨ç›¸åŒ</p>
<p>[3]é€šè¿‡æ„é€ å™¨è‡ªåŠ¨è£…é…ï¼šå½“beanä¸­å­˜åœ¨å¤šä¸ªæ„é€ å™¨æ—¶ï¼Œæ­¤ç§è‡ªåŠ¨è£…é…æ–¹å¼å°†ä¼šå¾ˆå¤æ‚ã€‚ä¸æ¨èä½¿ç”¨ã€‚</p>
<p><strong>â‘¢é€‰ç”¨å»ºè®®</strong></p>
<p>ç›¸å¯¹äºä½¿ç”¨æ³¨è§£çš„æ–¹å¼å®ç°çš„è‡ªåŠ¨è£…é…ï¼Œåœ¨XMLæ–‡æ¡£ä¸­è¿›è¡Œçš„è‡ªåŠ¨è£…é…ç•¥æ˜¾ç¬¨æ‹™ï¼Œåœ¨é¡¹ç›®ä¸­æ›´å¤šçš„ä½¿ç”¨æ³¨è§£çš„æ–¹å¼å®ç°ã€‚</p>
<h3 id="é€šè¿‡æ³¨è§£é…ç½®bean"><a href="#é€šè¿‡æ³¨è§£é…ç½®bean" class="headerlink" title="é€šè¿‡æ³¨è§£é…ç½®bean"></a>é€šè¿‡æ³¨è§£é…ç½®bean</h3><p>ç›¸å¯¹äºXMLæ–¹å¼è€Œè¨€ï¼Œé€šè¿‡æ³¨è§£çš„æ–¹å¼é…ç½®beanæ›´åŠ ç®€æ´å’Œä¼˜é›…ï¼Œè€Œä¸”å’ŒMVCç»„ä»¶åŒ–å¼€å‘çš„ç†å¿µååˆ†å¥‘åˆï¼Œæ˜¯å¼€å‘ä¸­å¸¸ç”¨çš„ä½¿ç”¨æ–¹å¼ã€‚</p>
<h4 id="ä½¿ç”¨æ³¨è§£æ ‡è¯†ç»„ä»¶"><a href="#ä½¿ç”¨æ³¨è§£æ ‡è¯†ç»„ä»¶" class="headerlink" title="ä½¿ç”¨æ³¨è§£æ ‡è¯†ç»„ä»¶"></a>ä½¿ç”¨æ³¨è§£æ ‡è¯†ç»„ä»¶</h4><p>â‘ æ™®é€šç»„ä»¶ï¼š@Component</p>
<p>æ ‡è¯†ä¸€ä¸ªå—Spring IOCå®¹å™¨ç®¡ç†çš„ç»„ä»¶</p>
<p>â‘¡æŒä¹…åŒ–å±‚ç»„ä»¶ï¼š@Respository</p>
<p>æ ‡è¯†ä¸€ä¸ªå—Spring IOCå®¹å™¨ç®¡ç†çš„æŒä¹…åŒ–å±‚ç»„ä»¶</p>
<p>â‘¢ä¸šåŠ¡é€»è¾‘å±‚ç»„ä»¶ï¼š@Service</p>
<p>æ ‡è¯†ä¸€ä¸ªå—Spring IOCå®¹å™¨ç®¡ç†çš„ä¸šåŠ¡é€»è¾‘å±‚ç»„ä»¶</p>
<p>â‘£è¡¨è¿°å±‚æ§åˆ¶å™¨ç»„ä»¶ï¼š@Controller</p>
<p>æ ‡è¯†ä¸€ä¸ªå—Spring IOCå®¹å™¨ç®¡ç†çš„è¡¨è¿°å±‚æ§åˆ¶å™¨ç»„ä»¶</p>
<p>â‘¤ç»„ä»¶å‘½åè§„åˆ™</p>
<p>â€‹        [1]é»˜è®¤æƒ…å†µï¼šä½¿ç”¨ç»„ä»¶çš„ç®€å•ç±»åé¦–å­—æ¯å°å†™åå¾—åˆ°çš„å­—ç¬¦ä¸²ä½œä¸ºbeançš„id</p>
<p>â€‹        [2]ä½¿ç”¨ç»„ä»¶æ³¨è§£çš„valueå±æ€§æŒ‡å®šbeançš„id</p>
<p>æ³¨æ„ï¼šäº‹å®ä¸ŠSpringå¹¶æ²¡æœ‰èƒ½åŠ›è¯†åˆ«ä¸€ä¸ªç»„ä»¶åˆ°åº•æ˜¯ä¸æ˜¯å®ƒæ‰€æ ‡è®°çš„ç±»å‹ï¼Œå³ä½¿å°†@Respositoryæ³¨è§£ç”¨åœ¨ä¸€ä¸ªè¡¨è¿°å±‚æ§åˆ¶å™¨ç»„ä»¶ä¸Šé¢ä¹Ÿä¸ä¼šäº§ç”Ÿä»»ä½•é”™è¯¯ï¼Œæ‰€ä»¥@Respositoryã€@Serviceã€@Controllerè¿™å‡ ä¸ªæ³¨è§£ä»…ä»…æ˜¯ä¸ºäº†è®©å¼€å‘äººå‘˜è‡ªå·±æ˜ç¡®å½“å‰çš„ç»„ä»¶æ‰®æ¼”çš„è§’è‰²ã€‚</p>
<h4 id="æ‰«æç»„ä»¶"><a href="#æ‰«æç»„ä»¶" class="headerlink" title="æ‰«æç»„ä»¶"></a>æ‰«æç»„ä»¶</h4><p>ç»„ä»¶è¢«ä¸Šè¿°æ³¨è§£æ ‡è¯†åè¿˜éœ€è¦é€šè¿‡Springè¿›è¡Œæ‰«ææ‰èƒ½å¤Ÿä¾¦æµ‹åˆ°ã€‚</p>
<p><strong>â‘ æŒ‡å®šè¢«æ‰«æçš„package</strong></p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>context<span class="token operator">:</span>component<span class="token operator">-</span>scan base<span class="token operator">-</span><span class="token keyword">package</span><span class="token operator">=</span><span class="token string">"com.atguigu.component"</span><span class="token operator">/</span><span class="token operator">></span></code></pre>

<p><strong>â‘¡è¯¦ç»†è¯´æ˜</strong></p>
<p>[1]<strong>base-package</strong>å±æ€§æŒ‡å®šä¸€ä¸ªéœ€è¦æ‰«æçš„åŸºç±»åŒ…ï¼ŒSpringå®¹å™¨å°†ä¼šæ‰«æè¿™ä¸ªåŸºç±»åŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ã€‚</p>
<p>[2]å½“éœ€è¦æ‰«æå¤šä¸ªåŒ…æ—¶å¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”ã€‚</p>
<p>[3]å¦‚æœä»…å¸Œæœ›æ‰«æç‰¹å®šçš„ç±»è€ŒéåŸºåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œå¯ä½¿ç”¨resource-patternå±æ€§è¿‡æ»¤ç‰¹å®šçš„ç±»ï¼Œç¤ºä¾‹ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>context<span class="token operator">:</span>component<span class="token operator">-</span>scan 
	base<span class="token operator">-</span><span class="token keyword">package</span><span class="token operator">=</span><span class="token string">"com.atguigu.component"</span> 
	resource<span class="token operator">-</span>pattern<span class="token operator">=</span><span class="token string">"autowire/*.class"</span><span class="token operator">/</span><span class="token operator">></span></code></pre>

<p>[4]åŒ…å«ä¸æ’é™¤</p>
<p>â—<a href="context:include-filter">context:include-filter</a>å­èŠ‚ç‚¹è¡¨ç¤ºè¦åŒ…å«çš„ç›®æ ‡ç±»</p>
<p>æ³¨æ„ï¼šé€šå¸¸éœ€è¦ä¸use-default-filterså±æ€§é…åˆä½¿ç”¨æ‰èƒ½å¤Ÿè¾¾åˆ°â€œä»…åŒ…å«æŸäº›ç»„ä»¶â€è¿™æ ·çš„æ•ˆæœã€‚å³ï¼šé€šè¿‡å°†use-default-filterså±æ€§è®¾ç½®ä¸ºfalseï¼Œç¦ç”¨é»˜è®¤è¿‡æ»¤å™¨ï¼Œç„¶åæ‰«æçš„å°±åªæ˜¯include-filterä¸­çš„è§„åˆ™æŒ‡å®šçš„ç»„ä»¶äº†ã€‚</p>
<p>â—<a href="context:exclude-filter">context:exclude-filter</a>å­èŠ‚ç‚¹è¡¨ç¤ºè¦æ’é™¤åœ¨å¤–çš„ç›®æ ‡ç±»</p>
<p>â—component-scanä¸‹å¯ä»¥æ‹¥æœ‰è‹¥å¹²ä¸ªinclude-filterå’Œexclude-filterå­èŠ‚ç‚¹</p>
<p><strong>â‘¢JARåŒ…</strong></p>
<p>å¿…é¡»åœ¨åŸæœ‰JARåŒ…ç»„åˆçš„åŸºç¡€ä¸Šå†å¯¼å…¥ä¸€ä¸ªï¼šspring-aop-4.0.0.RELEASE.jar</p>
<h4 id="ç»„ä»¶è£…é…"><a href="#ç»„ä»¶è£…é…" class="headerlink" title="ç»„ä»¶è£…é…"></a>ç»„ä»¶è£…é…</h4><p><strong>â‘ éœ€æ±‚</strong></p>
<p>Controllerç»„ä»¶ä¸­å¾€å¾€éœ€è¦ç”¨åˆ°Serviceç»„ä»¶çš„å®ä¾‹ï¼ŒServiceç»„ä»¶ä¸­å¾€å¾€éœ€è¦ç”¨åˆ°Repositoryç»„ä»¶çš„å®ä¾‹ã€‚Springå¯ä»¥é€šè¿‡æ³¨è§£çš„æ–¹å¼å¸®æˆ‘ä»¬å®ç°å±æ€§çš„è£…é…ã€‚</p>
<p><strong>â‘¡å®ç°ä¾æ®</strong></p>
<p>åœ¨æŒ‡å®šè¦æ‰«æçš„åŒ…æ—¶ï¼Œ<a href="context:component-scan">context:component-scan</a> å…ƒç´ ä¼šè‡ªåŠ¨æ³¨å†Œä¸€ä¸ªbeançš„åç½®å¤„ç†å™¨ï¼šAutowiredAnnotationBeanPostProcessorçš„å®ä¾‹ã€‚è¯¥åç½®å¤„ç†å™¨å¯ä»¥è‡ªåŠ¨è£…é…æ ‡è®°äº†**@Autowired**ã€@Resourceæˆ–@Injectæ³¨è§£çš„å±æ€§ã€‚</p>
<p><strong>â‘¢@Autowiredæ³¨è§£</strong></p>
<p>[1]æ ¹æ®ç±»å‹å®ç°è‡ªåŠ¨è£…é…ã€‚</p>
<p>[2]æ„é€ å™¨ã€æ™®é€šå­—æ®µ(å³ä½¿æ˜¯épublic)ã€ä¸€åˆ‡å…·æœ‰å‚æ•°çš„æ–¹æ³•éƒ½å¯ä»¥åº”ç”¨@Autowiredæ³¨è§£</p>
<p>[3]é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ä½¿ç”¨@Autowiredæ³¨è§£çš„å±æ€§éƒ½éœ€è¦è¢«è®¾ç½®ã€‚å½“Springæ‰¾ä¸åˆ°åŒ¹é…çš„beanè£…é…å±æ€§æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>[4]è‹¥æŸä¸€å±æ€§å…è®¸ä¸è¢«è®¾ç½®ï¼Œå¯ä»¥è®¾ç½®@Autowiredæ³¨è§£çš„requiredå±æ€§ä¸º false</p>
<p>[5]é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“IOCå®¹å™¨é‡Œå­˜åœ¨å¤šä¸ªç±»å‹å…¼å®¹çš„beanæ—¶ï¼ŒSpringä¼šå°è¯•åŒ¹é…beançš„idå€¼æ˜¯å¦ä¸å˜é‡åç›¸åŒï¼Œå¦‚æœç›¸åŒåˆ™è¿›è¡Œè£…é…ã€‚å¦‚æœbeançš„idå€¼ä¸ç›¸åŒï¼Œé€šè¿‡ç±»å‹çš„è‡ªåŠ¨è£…é…å°†æ— æ³•å·¥ä½œã€‚æ­¤æ—¶å¯ä»¥åœ¨@Qualifieræ³¨è§£é‡Œæä¾›beançš„åç§°ã€‚Springç”šè‡³å…è®¸åœ¨æ–¹æ³•çš„å½¢å‚ä¸Šæ ‡æ³¨@Qualifiteræ³¨è§£ä»¥æŒ‡å®šæ³¨å…¥beançš„åç§°ã€‚</p>
<p>[6]@Autowiredæ³¨è§£ä¹Ÿå¯ä»¥åº”ç”¨åœ¨æ•°ç»„ç±»å‹çš„å±æ€§ä¸Šï¼Œæ­¤æ—¶Springå°†ä¼šæŠŠæ‰€æœ‰åŒ¹é…çš„beanè¿›è¡Œè‡ªåŠ¨è£…é…ã€‚</p>
<p>[7]@Autowiredæ³¨è§£ä¹Ÿå¯ä»¥åº”ç”¨åœ¨é›†åˆå±æ€§ä¸Šï¼Œæ­¤æ—¶Springè¯»å–è¯¥é›†åˆçš„ç±»å‹ä¿¡æ¯ï¼Œç„¶åè‡ªåŠ¨è£…é…æ‰€æœ‰ä¸ä¹‹å…¼å®¹çš„beanã€‚</p>
<p>[8]@Autowiredæ³¨è§£ç”¨åœ¨java.util.Mapä¸Šæ—¶ï¼Œè‹¥è¯¥Mapçš„é”®å€¼ä¸ºStringï¼Œé‚£ä¹ˆ Springå°†è‡ªåŠ¨è£…é…ä¸å€¼ç±»å‹å…¼å®¹çš„beanä½œä¸ºå€¼ï¼Œå¹¶ä»¥beançš„idå€¼ä½œä¸ºé”®ã€‚</p>
<p><strong>â‘£@Resource</strong></p>
<p>@Resourceæ³¨è§£è¦æ±‚æä¾›ä¸€ä¸ªbeanåç§°çš„å±æ€§ï¼Œè‹¥è¯¥å±æ€§ä¸ºç©ºï¼Œåˆ™è‡ªåŠ¨é‡‡ç”¨æ ‡æ³¨å¤„çš„å˜é‡æˆ–æ–¹æ³•åä½œä¸ºbeançš„åç§°ã€‚</p>
<p><strong>â‘¤@Inject</strong></p>
<p>@Injectå’Œ@Autowiredæ³¨è§£ä¸€æ ·ä¹Ÿæ˜¯æŒ‰ç±»å‹æ³¨å…¥åŒ¹é…çš„beanï¼Œä½†æ²¡æœ‰reqiredå±æ€§ã€‚</p>
<h3 id="æ³›å‹ä¾èµ–æ³¨å…¥"><a href="#æ³›å‹ä¾èµ–æ³¨å…¥" class="headerlink" title="æ³›å‹ä¾èµ–æ³¨å…¥"></a>æ³›å‹ä¾èµ–æ³¨å…¥</h3><p>å¯ä»¥ä¸ºå­ç±»æ³¨å…¥å­ç±»å¯¹åº”çš„æ³›å‹ç±»å‹çš„æˆå‘˜å˜é‡çš„å¼•ç”¨ã€‚</p>
<h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>[1]ç»„ä»¶åŸºç±»</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">BaseRepository</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Saved by BaseRepository"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code></pre>

<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">BaseService</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>
	
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">BaseRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> repository<span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		repository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code></pre>

<p>[2]ç»„ä»¶å®ä½“ç±»</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">UserRepository</span>
<span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">BaseRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Saved by UserRepository"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span></code></pre>

<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">UserService</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span></code></pre>

<p>[3]æ¨¡å‹å®ä½“ç±»</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">User</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>
	
<span class="token punctuation">&#125;</span></code></pre>

<p>[4]æµ‹è¯•</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"di.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">UserService</span> us <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"userService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

us<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<pre class="language-java" data-language="java"><code class="language-java">æ‰§è¡Œç»“æœ
<span class="token class-name">Saved</span> by <span class="token class-name">UserRepository</span></code></pre>

<h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>â—AOP(Aspect-Oriented Programmingï¼Œ<strong>é¢å‘åˆ‡é¢ç¼–ç¨‹</strong>)ï¼šæ˜¯ä¸€ç§æ–°çš„æ–¹æ³•è®ºï¼Œæ˜¯å¯¹ä¼ ç»Ÿ OOP(Object-Oriented Programmingï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹)çš„è¡¥å……ã€‚</p>
<p>â—AOPç¼–ç¨‹æ“ä½œçš„ä¸»è¦å¯¹è±¡æ˜¯åˆ‡é¢(aspect)ï¼Œè€Œåˆ‡é¢<strong>æ¨¡å—åŒ–æ¨ªåˆ‡å…³æ³¨ç‚¹</strong>ã€‚</p>
<p>â—åœ¨åº”ç”¨AOPç¼–ç¨‹æ—¶ï¼Œä»ç„¶éœ€è¦å®šä¹‰å…¬å…±åŠŸèƒ½ï¼Œä½†å¯ä»¥æ˜ç¡®çš„å®šä¹‰è¿™ä¸ªåŠŸèƒ½åº”ç”¨åœ¨å“ªé‡Œï¼Œä»¥ä»€ä¹ˆæ–¹å¼åº”ç”¨ï¼Œå¹¶ä¸”ä¸å¿…ä¿®æ”¹å—å½±å“çš„ç±»ã€‚è¿™æ ·ä¸€æ¥æ¨ªåˆ‡å…³æ³¨ç‚¹å°±è¢«æ¨¡å—åŒ–åˆ°ç‰¹æ®Šçš„ç±»é‡Œâ€”â€”è¿™æ ·çš„ç±»æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºâ€œåˆ‡é¢â€ã€‚</p>
<p>â—AOPçš„å¥½å¤„ï¼š</p>
<p>â€‹        â—‹æ¯ä¸ªäº‹ç‰©é€»è¾‘ä½äºä¸€ä¸ªä½ç½®ï¼Œä»£ç ä¸åˆ†æ•£ï¼Œä¾¿äºç»´æŠ¤å’Œå‡çº§</p>
<p>â€‹        â—‹ä¸šåŠ¡æ¨¡å—æ›´ç®€æ´ï¼ŒåªåŒ…å«æ ¸å¿ƒä¸šåŠ¡ä»£ç </p>
<h3 id="ç›¸å…³æœ¯è¯­"><a href="#ç›¸å…³æœ¯è¯­" class="headerlink" title="ç›¸å…³æœ¯è¯­"></a>ç›¸å…³æœ¯è¯­</h3><p><em><strong>æ¨ªåˆ‡å…³æ³¨ç‚¹</strong></em></p>
<p>ä»æ¯ä¸ªæ–¹æ³•ä¸­æŠ½å–å‡ºæ¥çš„åŒä¸€ç±»éæ ¸å¿ƒä¸šåŠ¡ã€‚</p>
<p><em><strong>åˆ‡é¢(Aspect)</strong></em></p>
<p>å°è£…æ¨ªåˆ‡å…³æ³¨ç‚¹ä¿¡æ¯çš„ç±»ï¼Œæ¯ä¸ªå…³æ³¨ç‚¹ä½“ç°ä¸ºä¸€ä¸ªé€šçŸ¥æ–¹æ³•ã€‚</p>
<p><em><strong>é€šçŸ¥(Advice)</strong></em></p>
<p>åˆ‡é¢å¿…é¡»è¦å®Œæˆçš„å„ä¸ªå…·ä½“å·¥ä½œ</p>
<p><em><strong>ç›®æ ‡(Target)</strong></em></p>
<p>è¢«é€šçŸ¥çš„å¯¹è±¡</p>
<p><em><strong>ä»£ç†(Proxy)</strong></em></p>
<p>å‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„ä»£ç†å¯¹è±¡</p>
<p><em><strong>è¿æ¥ç‚¹(Joinpoint)</strong></em></p>
<p>æ¨ªåˆ‡å…³æ³¨ç‚¹åœ¨ç¨‹åºä»£ç ä¸­çš„å…·ä½“ä½“ç°ï¼Œå¯¹åº”ç¨‹åºæ‰§è¡Œçš„æŸä¸ªç‰¹å®šä½ç½®ã€‚ä¾‹å¦‚ï¼šç±»æŸä¸ªæ–¹æ³•è°ƒç”¨å‰ã€è°ƒç”¨åã€æ–¹æ³•æ•è·åˆ°å¼‚å¸¸åç­‰ã€‚</p>
<p>åœ¨åº”ç”¨ç¨‹åºä¸­å¯ä»¥ä½¿ç”¨æ¨ªçºµä¸¤ä¸ªåæ ‡æ¥å®šä½ä¸€ä¸ªå…·ä½“çš„è¿æ¥ç‚¹</p>
<p><em><strong>åˆ‡å…¥ç‚¹(pointcut)</strong></em></p>
<p>å®šä½è¿æ¥ç‚¹çš„æ–¹å¼ã€‚æ¯ä¸ªç±»çš„æ–¹æ³•ä¸­éƒ½åŒ…å«å¤šä¸ªè¿æ¥ç‚¹ï¼Œæ‰€ä»¥è¿æ¥ç‚¹æ˜¯ç±»ä¸­å®¢è§‚å­˜åœ¨çš„äº‹ç‰©ã€‚å¦‚æœæŠŠè¿æ¥ç‚¹çœ‹ä½œæ•°æ®åº“ä¸­çš„è®°å½•ï¼Œé‚£ä¹ˆåˆ‡å…¥ç‚¹å°±æ˜¯æŸ¥è¯¢æ¡ä»¶â€”â€”AOPå¯ä»¥é€šè¿‡åˆ‡å…¥ç‚¹å®šä½åˆ°ç‰¹å®šçš„è¿æ¥ç‚¹ã€‚åˆ‡ç‚¹é€šè¿‡org.springframework.aop.Pointcut æ¥å£è¿›è¡Œæè¿°ï¼Œå®ƒä½¿ç”¨ç±»å’Œæ–¹æ³•ä½œä¸ºè¿æ¥ç‚¹çš„æŸ¥è¯¢æ¡ä»¶</p>
<h3 id="ç›¸å…³ç»†èŠ‚"><a href="#ç›¸å…³ç»†èŠ‚" class="headerlink" title="ç›¸å…³ç»†èŠ‚"></a>ç›¸å…³ç»†èŠ‚</h3><h4 id="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><a href="#åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="headerlink" title="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"></a>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h4><p>é€šè¿‡<strong>è¡¨è¾¾å¼çš„æ–¹å¼</strong>å®šä½<strong>ä¸€ä¸ªæˆ–å¤šä¸ª</strong>å…·ä½“çš„è¿æ¥ç‚¹ã€‚</p>
<p><strong>â‘ åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„è¯­æ³•æ ¼å¼</strong></p>
<p>  execution([æƒé™ä¿®é¥°ç¬¦] [è¿”å›å€¼ç±»å‹] [ç®€å•ç±»å/å…¨ç±»å] <a href="%5B%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%5D">æ–¹æ³•å</a>)  </p>
<p><strong>â‘¡ä¸¾ä¾‹è¯´æ˜</strong></p>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>execution(***** com.atguigu.spring.ArithmeticCalculator.*****(<strong>..</strong>))</th>
</tr>
</thead>
<tbody><tr>
<td>å«ä¹‰</td>
<td>ArithmeticCalculatoræ¥å£ä¸­å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ã€‚  ç¬¬ä¸€ä¸ªâ€œ<em>â€ä»£è¡¨ä»»æ„ä¿®é¥°ç¬¦åŠä»»æ„è¿”å›å€¼ã€‚  ç¬¬äºŒä¸ªâ€œ</em>â€ä»£è¡¨ä»»æ„æ–¹æ³•ã€‚  â€œ..â€åŒ¹é…ä»»æ„æ•°é‡ã€ä»»æ„ç±»å‹çš„å‚æ•°ã€‚  è‹¥ç›®æ ‡ç±»ã€æ¥å£ä¸è¯¥åˆ‡é¢ç±»åœ¨åŒä¸€ä¸ªåŒ…ä¸­å¯ä»¥çœç•¥åŒ…åã€‚</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>execution(<strong>public</strong> * ArithmeticCalculator.*(..))</th>
</tr>
</thead>
<tbody><tr>
<td>å«ä¹‰</td>
<td>ArithmeticCalculatoræ¥å£çš„æ‰€æœ‰å…¬æœ‰æ–¹æ³•</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>execution(public <strong>double</strong> ArithmeticCalculator.*(..))</th>
</tr>
</thead>
<tbody><tr>
<td>å«ä¹‰</td>
<td>ArithmeticCalculatoræ¥å£ä¸­è¿”å›doubleç±»å‹æ•°å€¼çš„æ–¹æ³•</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>execution(public double ArithmeticCalculator.*(<strong>double</strong>,  ..))</th>
</tr>
</thead>
<tbody><tr>
<td>å«ä¹‰</td>
<td>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºdoubleç±»å‹çš„æ–¹æ³•ã€‚  â€œ..â€ åŒ¹é…ä»»æ„æ•°é‡ã€ä»»æ„ç±»å‹çš„å‚æ•°ã€‚</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>execution(public double ArithmeticCalculator.*(<strong>double</strong>,  <strong>double</strong>))</th>
</tr>
</thead>
<tbody><tr>
<td>å«ä¹‰</td>
<td>å‚æ•°ç±»å‹ä¸ºdoubleï¼Œdoubleç±»å‹çš„æ–¹æ³•</td>
</tr>
</tbody></table>
<p><strong>â‘¢åœ¨AspectJä¸­ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼å¯ä»¥é€šè¿‡ â€œ&amp;&amp;â€ã€â€œ||â€ã€â€œ!â€ç­‰æ“ä½œç¬¦ç»“åˆèµ·æ¥ã€‚</strong></p>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th align="left">execution (* <em>.add(int,..)) <strong>||</strong>  execution(</em> *.sub(int,..))</th>
</tr>
</thead>
<tbody><tr>
<td>å«ä¹‰</td>
<td align="left">ä»»æ„ç±»ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºintç±»å‹çš„addæ–¹æ³•æˆ–subæ–¹æ³•</td>
</tr>
</tbody></table>
<p><strong>å®é™…åº”ç”¨</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayucan/imageCloud/data/20210202151626.png" alt="Bw8iWt.png" loading="lazy"></p>
<h3 id="å½“å‰è¿æ¥ç‚¹"><a href="#å½“å‰è¿æ¥ç‚¹" class="headerlink" title="å½“å‰è¿æ¥ç‚¹"></a>å½“å‰è¿æ¥ç‚¹</h3><p>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼é€šå¸¸éƒ½ä¼šæ˜¯ä»å®è§‚ä¸Šå®šä½ä¸€ç»„æ–¹æ³•ï¼Œå’Œå…·ä½“æŸä¸ªé€šçŸ¥çš„æ³¨è§£ç»“åˆèµ·æ¥å°±èƒ½å¤Ÿç¡®å®šå¯¹åº”çš„è¿æ¥ç‚¹ã€‚é‚£ä¹ˆå°±ä¸€ä¸ªå…·ä½“çš„è¿æ¥ç‚¹è€Œè¨€ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå…³å¿ƒè¿™ä¸ªè¿æ¥ç‚¹çš„ä¸€äº›å…·ä½“ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šå½“å‰è¿æ¥ç‚¹æ‰€åœ¨æ–¹æ³•çš„æ–¹æ³•åã€å½“å‰ä¼ å…¥çš„å‚æ•°å€¼ç­‰ç­‰ã€‚è¿™äº›ä¿¡æ¯éƒ½å°è£…åœ¨JoinPointæ¥å£çš„å®ä¾‹å¯¹è±¡ä¸­</p>
<h3 id="é€šçŸ¥"><a href="#é€šçŸ¥" class="headerlink" title="é€šçŸ¥"></a>é€šçŸ¥</h3><p>åœ¨å…·ä½“çš„è¿æ¥ç‚¹ä¸Šè¦æ‰§è¡Œçš„æ“ä½œã€‚</p>
<p>ä¸€ä¸ªåˆ‡é¢å¯ä»¥åŒ…æ‹¬ä¸€ä¸ªæˆ–è€…å¤šä¸ªé€šçŸ¥ã€‚</p>
<p>é€šçŸ¥æ‰€ä½¿ç”¨çš„æ³¨è§£çš„å€¼å¾€å¾€æ˜¯åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€‚</p>
<h4 id="å‰ç½®é€šçŸ¥"><a href="#å‰ç½®é€šçŸ¥" class="headerlink" title="å‰ç½®é€šçŸ¥"></a>å‰ç½®é€šçŸ¥</h4><ul>
<li><p>å‰ç½®é€šçŸ¥ï¼šåœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œçš„é€šçŸ¥</p>
</li>
<li><p>ä½¿ç”¨***@Before***æ³¨è§£</p>
</li>
</ul>
<h4 id="åç½®é€šçŸ¥"><a href="#åç½®é€šçŸ¥" class="headerlink" title="åç½®é€šçŸ¥"></a>åç½®é€šçŸ¥</h4><ul>
<li><p>åç½®é€šçŸ¥ï¼šåç½®é€šçŸ¥æ˜¯åœ¨è¿æ¥ç‚¹å®Œæˆä¹‹åæ‰§è¡Œçš„ï¼Œå³è¿æ¥ç‚¹è¿”å›ç»“æœæˆ–è€…æŠ›å‡ºå¼‚å¸¸çš„æ—¶å€™</p>
</li>
<li><p>ä½¿ç”¨***@After***æ³¨è§£</p>
</li>
</ul>
<h4 id="è¿”å›é€šçŸ¥"><a href="#è¿”å›é€šçŸ¥" class="headerlink" title="è¿”å›é€šçŸ¥"></a>è¿”å›é€šçŸ¥</h4><ul>
<li><p>è¿”å›é€šçŸ¥ï¼šæ— è®ºè¿æ¥ç‚¹æ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼Œåç½®é€šçŸ¥éƒ½ä¼šæ‰§è¡Œã€‚å¦‚æœåªæƒ³åœ¨è¿æ¥ç‚¹è¿”å›çš„æ—¶å€™è®°å½•æ—¥å¿—ï¼Œåº”ä½¿ç”¨è¿”å›é€šçŸ¥ä»£æ›¿åç½®é€šçŸ¥ã€‚</p>
</li>
<li><p>ä½¿ç”¨***@AfterReturning***æ³¨è§£</p>
</li>
<li><p>åœ¨è¿”å›é€šçŸ¥ä¸­è®¿é—®è¿æ¥ç‚¹çš„è¿”å›å€¼</p>
<ul>
<li>åœ¨è¿”å›é€šçŸ¥ä¸­ï¼Œåªè¦å°†returningå±æ€§æ·»åŠ åˆ°@AfterReturningæ³¨è§£ä¸­ï¼Œå°±å¯ä»¥è®¿é—®è¿æ¥ç‚¹çš„è¿”å›å€¼ã€‚è¯¥å±æ€§çš„å€¼å³ä¸ºç”¨æ¥ä¼ å…¥è¿”å›å€¼çš„å‚æ•°åç§°</li>
<li>å¿…é¡»åœ¨é€šçŸ¥æ–¹æ³•çš„ç­¾åä¸­æ·»åŠ ä¸€ä¸ªåŒåå‚æ•°ã€‚åœ¨è¿è¡Œæ—¶Spring AOPä¼šé€šè¿‡è¿™ä¸ªå‚æ•°ä¼ é€’è¿”å›å€¼ã€</li>
<li>åŸå§‹çš„åˆ‡ç‚¹è¡¨è¾¾å¼éœ€è¦å‡ºç°åœ¨pointcutå±æ€§ä¸­                              </li>
</ul>
</li>
</ul>
<h4 id="å¼‚å¸¸é€šçŸ¥"><a href="#å¼‚å¸¸é€šçŸ¥" class="headerlink" title="å¼‚å¸¸é€šçŸ¥"></a>å¼‚å¸¸é€šçŸ¥</h4><ul>
<li><p>å¼‚å¸¸é€šçŸ¥ï¼šåªåœ¨è¿æ¥ç‚¹æŠ›å‡ºå¼‚å¸¸æ—¶æ‰æ‰§è¡Œå¼‚å¸¸é€šçŸ¥</p>
</li>
<li><p>å°†throwingå±æ€§æ·»åŠ åˆ°@AfterThrowingæ³¨è§£ä¸­ï¼Œä¹Ÿå¯ä»¥è®¿é—®è¿æ¥ç‚¹æŠ›å‡ºçš„å¼‚å¸¸ã€‚Throwableæ˜¯æ‰€æœ‰é”™è¯¯å’Œå¼‚å¸¸ç±»çš„é¡¶çº§çˆ¶ç±»ï¼Œæ‰€ä»¥åœ¨å¼‚å¸¸é€šçŸ¥æ–¹æ³•å¯ä»¥æ•è·åˆ°ä»»ä½•é”™è¯¯å’Œå¼‚å¸¸ã€‚</p>
</li>
<li><p>å¦‚æœåªå¯¹æŸç§ç‰¹æ®Šçš„å¼‚å¸¸ç±»å‹æ„Ÿå…´è¶£ï¼Œå¯ä»¥å°†å‚æ•°å£°æ˜ä¸ºå…¶ä»–å¼‚å¸¸çš„å‚æ•°ç±»å‹ã€‚ç„¶åé€šçŸ¥å°±åªåœ¨æŠ›å‡ºè¿™ä¸ªç±»å‹åŠå…¶å­ç±»çš„å¼‚å¸¸æ—¶æ‰è¢«æ‰§è¡Œ</p>
</li>
</ul>
<h4 id="ç¯ç»•é€šçŸ¥"><a href="#ç¯ç»•é€šçŸ¥" class="headerlink" title="ç¯ç»•é€šçŸ¥"></a>ç¯ç»•é€šçŸ¥</h4><ul>
<li><p>ç¯ç»•é€šçŸ¥æ˜¯æ‰€æœ‰é€šçŸ¥ç±»å‹ä¸­åŠŸèƒ½æœ€ä¸ºå¼ºå¤§çš„ï¼Œèƒ½å¤Ÿå…¨é¢åœ°æ§åˆ¶è¿æ¥ç‚¹ï¼Œç”šè‡³å¯ä»¥æ§åˆ¶æ˜¯å¦æ‰§è¡Œè¿æ¥ç‚¹ã€‚</p>
</li>
<li><p>å¯¹äºç¯ç»•é€šçŸ¥æ¥è¯´ï¼Œè¿æ¥ç‚¹çš„å‚æ•°ç±»å‹å¿…é¡»æ˜¯ProceedingJoinPointã€‚å®ƒæ˜¯ JoinPointçš„å­æ¥å£ï¼Œå…è®¸æ§åˆ¶ä½•æ—¶æ‰§è¡Œï¼Œæ˜¯å¦æ‰§è¡Œè¿æ¥ç‚¹ã€‚</p>
</li>
<li><p>åœ¨ç¯ç»•é€šçŸ¥ä¸­éœ€è¦æ˜ç¡®è°ƒç”¨ProceedingJoinPointçš„proceed()æ–¹æ³•æ¥æ‰§è¡Œè¢«ä»£ç†çš„æ–¹æ³•ã€‚å¦‚æœå¿˜è®°è¿™æ ·åšå°±ä¼šå¯¼è‡´é€šçŸ¥è¢«æ‰§è¡Œäº†ï¼Œä½†ç›®æ ‡æ–¹æ³•æ²¡æœ‰è¢«æ‰§è¡Œã€‚</p>
</li>
<li><p>æ³¨æ„ï¼šç¯ç»•é€šçŸ¥çš„æ–¹æ³•éœ€è¦è¿”å›ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åçš„ç»“æœï¼Œå³è°ƒç”¨ joinPoint.proceed();çš„è¿”å›å€¼ï¼Œå¦åˆ™ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
</li>
</ul>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>rayucan</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://example.com/2020/10/25/Spring/" title="Spring">http://example.com/2020/10/25/Spring/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/10/31/Cookie%20%E5%92%8C%20Session/" rel="prev" title="Cookie å’Œ Session"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Cookie å’Œ Session</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/10/05/Maven/" rel="next" title="Maven"><span class="post-nav-text">Maven</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> rayucan</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.2</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>