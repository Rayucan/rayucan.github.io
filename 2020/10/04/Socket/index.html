<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="rayucan"><meta name="copyright" content="rayucan"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>Socket | null</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":null,"version":"1.6.1","mode":"dark","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="ä¸€ç§æ“ä½œç³»ç»Ÿæä¾›çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Socket">
<meta property="og:url" content="http://example.com/2020/10/04/Socket/index.html">
<meta property="og:site_name">
<meta property="og:description" content="ä¸€ç§æ“ä½œç³»ç»Ÿæä¾›çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-10-03T16:00:00.000Z">
<meta property="article:modified_time" content="2023-07-17T03:27:10.854Z">
<meta property="article:author" content="rayucan">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="rayucan"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/Rayucan/imageCloud/data/20210515231431.jpg" alt="rayucan"><span class="site-author-status" title="ç½‘ä¸Šå†²æµª">ğŸ„</span></a><div class="site-author-name"><a href="/about/">rayucan</a></div><a class="site-name" href="/about/site.html"></a><sub class="site-subtitle">å±±è€Œ</sub><div class="site-desciption">å±±æµ·æ‚ æ‚ ï¼Œè€Œäººåœ¨æ¼«æ­¥è¡Œèµ°</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">53</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">8</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Rayucan" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Socket%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">Socketç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Socket%E4%BC%A0%E8%BE%93%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">Socketä¼ è¾“æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Socket%E5%AE%9E%E4%BE%8B"><span class="toc-number">3.</span> <span class="toc-text">Socketå®ä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%BE%8B%EF%BC%9ASocket%E5%AE%9E%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%90%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E9%80%9A%E4%BF%A1"><span class="toc-number">3.1.</span> <span class="toc-text">ç¬¬ä¸€ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E4%BE%8B%EF%BC%9ASocket%E5%AE%9E%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E9%80%9A%E4%BF%A1"><span class="toc-number">3.2.</span> <span class="toc-text">ç¬¬äºŒä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯é€šä¿¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E4%BE%8B%EF%BC%9ASocket%E5%AE%9E%E7%8E%B0%E5%A4%9A%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%90%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E9%80%9A%E4%BF%A1"><span class="toc-number">3.3.</span> <span class="toc-text">ç¬¬ä¸‰ä¾‹ï¼šSocketå®ç°å¤šä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E4%BE%8B%EF%BC%9ASocket%E5%AE%9E%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E4%BF%A1"><span class="toc-number">3.4.</span> <span class="toc-text">ç¬¬å››ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸å®¢æˆ·ç«¯é€šä¿¡</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2020/10/04/Socket/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="rayucan"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Socket</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2020-10-04 00:00:00" itemprop="dateCreated datePublished" datetime="2020-10-04T00:00:00+08:00">2020-10-04</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2023-07-17 11:27:10" itemprop="dateModified" datetime="2023-07-17T11:27:10+08:00">2023-07-17</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray" itemprop="url" rel="index"><span itemprop="text">ç¬”è®°</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Java/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Java</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h2 id="Socketç®€ä»‹"><a href="#Socketç®€ä»‹" class="headerlink" title="Socketç®€ä»‹"></a>Socketç®€ä»‹</h2><p>Socketï¼ˆå¥—æ¥å­—ï¼‰ç”¨äºæè¿°IPåœ°å€å’Œç«¯å£ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡Socketå‘ç½‘ç»œå‘å‡ºè¯·æ±‚æˆ–è€…åº”ç­”ç½‘ç»œè¯·æ±‚</p>
<p>Socketæ˜¯æ”¯æŒTCP/IPåè®®çš„ç½‘ç»œé€šä¿¡çš„åŸºæœ¬æ“ä½œå•å…ƒï¼Œæ˜¯å¯¹ç½‘ç»œé€šä¿¡è¿‡ç¨‹ä¸­ç«¯ç‚¹çš„æŠ½è±¡è¡¨ç¤ºï¼ŒåŒ…å«äº†è¿›è¡Œç½‘ç»œé€šä¿¡æ‰€å¿…éœ€çš„5ç§ä¿¡æ¯ï¼š</p>
<p>è¿æ¥æ‰€ä½¿ç”¨çš„åè®®ã€æœ¬åœ°ä¸»æœºçš„IPåœ°å€ã€æœ¬åœ°è¿›ç¨‹çš„åè®®ç«¯å£ã€è¿œåœ°ä¸»æœºçš„IPåœ°å€ã€è¿œåœ°è¿›ç¨‹çš„åè®®ç«¯å£</p>
<h2 id="Socketä¼ è¾“æ¨¡å¼"><a href="#Socketä¼ è¾“æ¨¡å¼" class="headerlink" title="Socketä¼ è¾“æ¨¡å¼"></a>Socketä¼ è¾“æ¨¡å¼</h2><p>Socketæœ‰ä¸¤ç§ä¸»è¦çš„æ“ä½œæ–¹å¼ï¼š<strong>é¢å‘è¿æ¥ï¼ˆTCPï¼‰</strong>å’Œ<strong>æ— è¿æ¥ï¼ˆUDPï¼‰</strong></p>
<p>ã€€ã€€é¢å‘è¿æ¥çš„Socketæ“ä½œå°±åƒä¸€éƒ¨ç”µè¯ï¼ŒSocketå¿…é¡»åœ¨å‘é€æ•°æ®ä¹‹å‰ä¸ç›®çš„åœ°çš„Socketå–å¾—è¿æ¥ï¼Œä¸€æ—¦è¿æ¥å»ºç«‹äº†ï¼ŒSocketå°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæµæ¥å£è¿›è¡Œæ‰“å¼€ã€è¯»å†™ä»¥åŠå…³é—­æ“ä½œã€‚å¹¶ä¸”ï¼Œæ‰€æœ‰å‘é€çš„æ•°æ®åœ¨å¦ä¸€ç«¯éƒ½ä¼šä»¥<strong>ç›¸åŒçš„é¡ºåº</strong>è¢«æ¥æ”¶ã€‚</p>
<p>ã€€ã€€æ— è¿æ¥çš„Socketæ“ä½œå°±åƒä¸€ä¸ªé‚®ä»¶æŠ•é€’ï¼Œæ¯ä¸€ä¸ªæ•°æ®æŠ¥éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å•å…ƒï¼Œå®ƒåŒ…å«äº†è¿™æ¬¡æŠ•é€’çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆç›®çš„åœ°å€å’Œè¦å‘é€çš„å†…å®¹ï¼‰ã€‚åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹çš„Socketä¸éœ€è¦è¿æ¥ç›®çš„åœ°Socketï¼Œå®ƒåªæ˜¯ç®€å•çš„æŠ•å‡ºæ•°æ®æŠ¥ã€‚</p>
<p>ç”±æ­¤å¯è§ï¼š</p>
<p>â€‹        æ— è¿æ¥çš„æ“ä½œæ˜¯å¿«é€Ÿé«˜æ•ˆçš„ï¼Œä½†æ˜¯æ•°æ®å®‰å…¨æ€§ä¸ä½³ï¼›</p>
<p>â€‹        é¢å‘è¿æ¥çš„æ“ä½œæ•ˆç‡è¾ƒä½ï¼Œä½†æ•°æ®çš„å®‰å…¨æ€§è¾ƒå¥½ã€‚</p>
<h2 id="Socketå®ä¾‹"><a href="#Socketå®ä¾‹" class="headerlink" title="Socketå®ä¾‹"></a>Socketå®ä¾‹</h2><p>é¢å‘è¿æ¥çš„Socketä¸»è¦ç”¨åˆ°ä¸¤ä¸ªç±»ï¼š</p>
<p>æœåŠ¡å™¨ç«¯ï¼š<em><strong>ServerSocket</strong></em> å®¢æˆ·ç«¯ï¼š<em><strong>Socket</strong></em></p>
<h3 id="ç¬¬ä¸€ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡"><a href="#ç¬¬ä¸€ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡" class="headerlink" title="ç¬¬ä¸€ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡"></a>ç¬¬ä¸€ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡</h3><p>å®ç°å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯çš„é€šä¿¡åªéœ€è¦å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ç«¯ç”¨æ¥ç›‘å¬å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯ï¼Œç„¶åå»ºç«‹å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„è¿æ¥ï¼Œè¿™æ—¶å®¢æˆ·ç«¯æƒ³æœåŠ¡å™¨ç«¯å‘é€ä¿¡æ¯å°±å¯ä»¥æ¥æ”¶åˆ°äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­</p>
<p>SocketServiceï¼ˆæœåŠ¡å™¨ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>simple</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">ServerSocket</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketService</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//æ­å»ºæœåŠ¡å™¨ç«¯</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">&#123;</span>
        <span class="token comment">//åˆ›å»ºæœåŠ¡å™¨</span>
        <span class="token class-name">ServerSocket</span> server<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">5209</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥åï¼Œæ¥æ”¶å®¢æˆ·ç«¯socket</span>
        <span class="token class-name">Socket</span> socket<span class="token operator">=</span>server<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–å®¢æˆ·ç«¯socketçš„è¾“å…¥æµ</span>
        <span class="token class-name">BufferedReader</span> in<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token comment">//ç­‰å¾…å®¢æˆ·ç«¯socketçš„ä¸ä¸ºç©ºè¾“å…¥æµ</span>
            <span class="token class-name">String</span> str <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯è¯´ï¼š"</span> <span class="token operator">+</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å…³é—­Socketè¾“å…¥æµ</span>
        socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å…³é—­Socket</span>
        server<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å…³é—­ServerSocket</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>SocketClientï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>simple</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// æ­å»ºå®¢æˆ·ç«¯</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//åˆ›å»ºå®¢æˆ·ç«¯ï¼Œå¹¶è¿æ¥æœåŠ¡å™¨</span>
        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"192.168.10.2"</span><span class="token punctuation">,</span> <span class="token number">5209</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯å¯åŠ¨æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–æ§åˆ¶å°è¾“å…¥æµ</span>
        <span class="token class-name">BufferedReader</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é€šè¿‡socketè¾“å‡ºæµåˆ›å»ºwriteæ¨é€åŠŸèƒ½å¯¹è±¡</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//ç­‰å¾…æ§åˆ¶å°ä¸ä¸ºç©ºçš„è¾“å…¥æµ</span>
            <span class="token class-name">String</span> str <span class="token operator">=</span> out<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token comment">//é€šè¿‡socketå¯¹è±¡å°†å­—ç¬¦ä¸²æ¨é€åˆ°æœåŠ¡å™¨</span>
            pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//ç«‹åˆ»åˆ·æ–°æ¨é€åŠŸèƒ½å¯¹è±¡</span>
            pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// ç»§ç»­å¾ªç¯</span>
        pw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å…³é—­Socketè¾“å‡ºæµ</span>
        socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å…³é—­Socket</span>
    <span class="token punctuation">&#125;</span>
 
<span class="token punctuation">&#125;</span></code></pre>

<p><strong>åˆ†æä»£ç </strong></p>
<p>ç¬¬ä¸€ä¸ªæ˜¯é˜»å¡å‡½æ•°ï¼Œé˜»å¡å‡½æ•°æ˜¯å½“è¿™ä¸ªå‡½æ•°ä¸æ‰§è¡Œå®Œï¼Œå‡½æ•°æ‰€åœ¨çº¿ç¨‹å°±ä¸€ç›´åœæ­¢åœ¨è¿™é‡Œä¸åŠ¨ã€‚</p>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ¶‰åŠåˆ°äº†ä¸¤ä¸ªé˜»å¡å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯***SocketServer.accept()<em><strong>ï¼Œä¸€ä¸ªæ˜¯</strong></em>BufferedReader.readline()<em><strong>ã€‚å½“æ²¡æœ‰æ•°æ®è¯»å–æ—¶ï¼Œå°±ä¸€ç›´ä¼šé˜»å¡åœ¨é‚£ã€‚ä¹Ÿå°±æ˜¯è¯´</strong>å¦‚æœè¿™ä¸¤ä¸ªæ–¹æ³•è·å–ä¸åˆ°æ•°æ®çš„è¯ï¼Œç¨‹åºå°±åœåœ¨è¿™äº†ï¼Œä¸å†ç»§ç»­å¾€ä¸‹èµ°äº†</em>*ã€‚</p>
<p>ç¬¬äºŒä¸ªæ˜¯ä¸¤ä¸ªåœ¨Socketä¾‹å­ä¸­å¸¸ç”¨ç±»ï¼Œ<em><strong>BufferedReader</strong></em>å’Œ<em><strong>PrintWriter</strong></em>ã€‚</p>
<p>BufferedReaderæ˜¯ç”¨æ¥è¯»å–è¾“å…¥æµçš„ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨æ¥æ”¶å®¢æˆ·ç«¯æ¨é€è¿‡æ¥ï¼Œæˆ–è€…å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡å™¨æ¨é€è¿‡æ¥çš„æ•°æ®æµå’Œæ§åˆ¶å°è¾“å…¥çš„æ•°æ®æµã€‚</p>
<p>PrintWriteræ˜¯ç”¨æ¥æ¨é€è¾“å‡ºæµçš„ï¼Œå¯ä»¥å°†æ•°æ®æµä»å®¢æˆ·ç«¯æ¨é€ç»™æœåŠ¡å™¨ï¼Œæˆ–è€…ä»æœåŠ¡å™¨æ¨é€ç»™å®¢æˆ·ç«¯ã€‚</p>
<p>ç®€å•çš„æ¥è¯´ï¼Œ<strong>BufferedReaderæ˜¯æ¥æ”¶InputStreamï¼›PrintWriteræ˜¯å‘é€OutputStream</strong>ã€‚</p>
<p>å®ƒä»¬çš„å®ç°æ–¹å¼åˆ†åˆ«æ˜¯ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

br<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>

pw<span class="token punctuation">.</span>flush<span class="token punctuation">;</span></code></pre>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸Šé¢çš„***br.readline()<em><strong>å’Œ</strong></em>pw.println(str)<em><strong>æ˜¯ä¸€èµ·ä½¿ç”¨çš„ï¼Œå› ä¸º</strong></em>readline()<em><strong>è¯»å…¥çš„æ•°æ®æ—¶å¿…é¡»è¦æœ‰ /ræˆ–/næˆ–/r/n ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»è¦æœ‰æ¢è¡Œç¬¦ï¼Œå¦åˆ™ä¼šä¸ºäº†ç­‰å¾…ä¸€ä¸ªæ¢è¡Œã€å›è½¦ç¬¦è€Œä¸€ç›´é˜»å¡ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨</strong></em>println()***æ–¹æ³•ã€‚</p>
<p><strong>åˆ†æä»£ç é€»è¾‘</strong></p>
<p>é¦–å…ˆæˆ‘ä»¬æ˜¯å…ˆå¯åŠ¨æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¯åŠ¨åï¼Œ***accept()***æ–¹æ³•ä¼šé˜»å¡ç­‰å¾…ä¸€ä¸ªsocketè¿æ¥ï¼ŒæœåŠ¡å™¨çš„ä»£ç èµ°åˆ°è¿™å°±åœäº†ã€‚</p>
<p>ç„¶åæˆ‘ä»¬åˆå¯åŠ¨äº†å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å¯åŠ¨åï¼ŒæœåŠ¡å™¨ä¼šå¾€ä¸‹èµ°ï¼Œèµ°åˆ°å¾ªç¯ä¸­çš„***readline()<em><strong>æ–¹æ³•ï¼Œé˜»å¡ç­‰å¾…è·å–çš„å®¢æˆ·ç«¯socketä¸­è¾“å…¥æµçš„å‡ºç°ï¼Œè€ŒåŒæ—¶ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¼šè¢«å¾ªç¯ä¸­çš„</strong></em>readline()***æ–¹æ³•é˜»å¡ï¼Œç­‰å¾…æ§åˆ¶å°ä¸­çš„è¾“å…¥æµçš„å‡ºç°ï¼Œæ•´ä¸ªé¡¹ç›®å°±è¿›å…¥äº†ç­‰å¾…ä¸­ã€‚</p>
<p>è¿™æ—¶ï¼Œæˆ‘ä»¬åœ¨å®¢æˆ·ç«¯çš„æ§åˆ¶å°ä¸­è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼Œå®¢æˆ·ç«¯ä¸­çš„***readline()<em><strong>å°±ä¼šç«‹åˆ»è¯»å–åˆ°è¿™æ®µè¾“å…¥æµï¼Œç„¶åå®¢æˆ·ç«¯é€šè¿‡PrintWriterå°†è¯¥è¾“å…¥æµé€šè¿‡socketçš„è¾“å‡ºæµæ¨é€åˆ°æœåŠ¡å™¨çš„socketä¸­ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯çš„ç­‰å¾…ã€‚è€ŒæœåŠ¡å™¨ä¸­çš„</strong></em>readline()***å°±ä¼šç«‹åˆ»è¯»å–åˆ°socketçš„è¾“å…¥æµï¼Œç„¶åæ‰“å°åˆ°æœåŠ¡å™¨çš„æ§åˆ¶å°ï¼Œä¹‹ååˆä¼šè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯çš„ç­‰å¾…ã€‚</p>
<p>ç†è§£äº†é€»è¾‘åä¸éš¾çœ‹å‡ºï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨***while(true)***æ˜¯ä¸ºäº†èƒ½å¤Ÿä¸€ç›´å¾ªç¯çš„è¿›å…¥ä¸‹ä¸€è½®çš„è¾“å…¥è¾“å‡ºï¼Œå¦‚æœå»æ‰å¾ªç¯ï¼Œé‚£ä¹ˆå°±åªèƒ½å®ç°ä¸€æ¬¡æ•°æ®çš„é€šä¿¡ã€‚</p>
<h3 id="ç¬¬äºŒä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯é€šä¿¡"><a href="#ç¬¬äºŒä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯é€šä¿¡" class="headerlink" title="ç¬¬äºŒä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯é€šä¿¡"></a>ç¬¬äºŒä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯é€šä¿¡</h3><p>åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œåªæ˜¯å®ç°äº†å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œä½†æœåŠ¡å™¨å¹¶æ²¡æœ‰å¯¹å®¢æˆ·ç«¯è¿›è¡Œä¿¡æ¯å›å¤ã€‚æ‰€ä»¥ç¬¬äºŒä¸ªä¾‹å­å®ç°<strong>åŒå‘é€šä¿¡</strong>çš„ã€‚ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œæé«˜å¯è¯»æ€§ï¼Œæ¥ä¸‹æ¥çš„ä¾‹å­å°†ä¸å†è¿›è¡Œèµ„æºçš„å…³é—­å›æ”¶ã€‚</p>
<p>SocketServiceï¼ˆæœåŠ¡å™¨ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>both</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">ServerSocket</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketService</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//æ­å»ºæœåŠ¡å™¨ç«¯</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">ServerSocket</span> server<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">5209</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Socket</span> socket<span class="token operator">=</span>server<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> in<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> out<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯è¯´ï¼š"</span><span class="token operator">+</span>in<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> str <span class="token operator">=</span> out<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å™¨è¯´ï¼š"</span><span class="token operator">+</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>SocketClientï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>both</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// æ­å»ºå®¢æˆ·ç«¯</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"192.168.10.2"</span><span class="token punctuation">,</span> <span class="token number">5209</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯å¯åŠ¨æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">String</span> str <span class="token operator">=</span> out<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯è¯´ï¼š"</span> <span class="token operator">+</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å™¨è¯´ï¼š"</span><span class="token operator">+</span>in<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
 
<span class="token punctuation">&#125;</span></code></pre>

<p>ç¬¬äºŒä¸ªä¾‹å­å¯ä»¥éå¸¸å¥½çš„ä½“ç°å‡ºé¢å‘è¿æ¥çš„Socketå‘é€çš„æ•°æ®åœ¨å¦ä¸€ç«¯ä¼šä»¥ç›¸åŒçš„é¡ºåºè¢«æ¥æ”¶è¿™ä¸ªç‰¹ç‚¹ã€‚</p>
<p><strong>åˆ†æä»£ç é€»è¾‘</strong></p>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆå¯åŠ¨æœåŠ¡å™¨ï¼Œç„¶åå¯åŠ¨å®¢æˆ·ç«¯ï¼Œè¿™æ—¶æœåŠ¡å™¨ä¼šèµ°åˆ°ç­‰å¾…å®¢æˆ·ç«¯å‘é€socketä¸­è¾“å…¥æµçš„æ­¥éª¤ï¼ˆ***in.readline()<em><strong>ï¼‰ï¼Œå®¢æˆ·ç«¯ä¼šèµ°åˆ°ç­‰å¾…æ§åˆ¶å°ä¸­è¾“å…¥æµçš„æ­¥éª¤ï¼ˆ</strong></em>out.readline()***ï¼‰ã€‚</p>
<p>ç„¶åå› ä¸ºå®¢æˆ·ç«¯åœ¨ç­‰å¾…æ§åˆ¶å°è¾“å…¥ï¼ŒæœåŠ¡å™¨åœ¨ç­‰å¾…å®¢æˆ·ç«¯å‘é€ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆåœ¨å®¢æˆ·ç«¯çš„æ§åˆ¶å°è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼Œè¿™æ—¶ï¼Œå®¢æˆ·ç«¯å°±ä¼šåœ¨æ§åˆ¶å°æ‰“å°è¾“å‡ºè¿™ä¸²å­—ç¬¦ï¼Œç„¶åèµ°åˆ°ç­‰å¾…æœåŠ¡å™¨å‘é€socketä¸­è¾“å…¥æµçš„æ­¥éª¤ï¼ˆ***in.readline()<em><strong>ï¼‰ï¼ŒæœåŠ¡å™¨å°±ä¼šæ”¶åˆ°è¿™ä¸²è¾“å…¥æµï¼Œç„¶ååœ¨æ§åˆ¶å°æ‰“å°è¾“å‡ºè¿™ä¸²è¾“å…¥æµï¼Œç„¶åèµ°åˆ°ç­‰å¾…æ§åˆ¶å°ä¸­è¾“å…¥æµçš„æ­¥éª¤ï¼ˆ</strong></em>out.readline()***ï¼‰ã€‚</p>
<p><strong>ä¹‹åå†æœåŠ¡å™¨ç«¯çš„æ§åˆ¶å°è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼Œåˆä¼šè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯çš„ç­‰å¾…ã€‚</strong></p>
<p>è¿™ä¸ªä¾‹å­çš„é€»è¾‘æ˜¯å®¢æˆ·ç«¯å…ˆå‘é€ä¸€æ¬¡é€šä¿¡ï¼ŒæœåŠ¡å™¨æ¥æ”¶é€šä¿¡å¹¶å‘é€ä¸€æ¬¡é€šä¿¡ï¼Œå®¢æˆ·ç«¯å†æ¥æ”¶å¹¶å‘é€ä¸€æ¬¡é€šä¿¡ã€‚ä¹‹å‰ä¹Ÿè¯´äº†ï¼Œç”±äºé¢å‘è¿æ¥çš„Socketå‘é€çš„æ•°æ®åœ¨å¦ä¸€ç«¯ä¼šä»¥ç›¸åŒçš„é¡ºåºè¢«æ¥æ”¶ï¼Œæ‰€ä»¥ï¼Œå¦‚æœä½ åœ¨å®¢æˆ·ç«¯è¿ç»­å‘é€äº†ä¸¤æ¬¡é€šä¿¡ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¸€ä¸ªå¾ªç¯åªä¼šæ¥æ”¶ä¸€æ¬¡é€šä¿¡ï¼Œç„¶åæœåŠ¡å™¨å†æ¬¡å‘é€ä¸€æ¬¡é€šä¿¡åï¼Œæ‰ä¼šæ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„ç¬¬äºŒæ¬¡é€šä¿¡ã€‚ç†ç”±æ˜¯ä¸‹é¢çš„***readline()<em><strong>å·²ç»è¯»åˆ°æ•°æ®å¯ä»¥ç»§ç»­æ‰§è¡Œäº†ï¼Œä½†ä¸Šé¢çš„</strong></em>readline()***è¿˜æ²¡æœ‰è¯»åˆ°æ•°æ®ï¼Œç¨‹åºåœ¨è¿™å°±å·²ç»é˜»å¡äº†ã€‚</p>
<p><strong>è¿™ä¸ªç‰¹ç‚¹ä¼šå¯¼è‡´ä¸€ä¸ªç°è±¡ï¼Œå°±æ˜¯å®¢æˆ·ç«¯å‘é€å‡ åå‡ ç™¾æ¬¡æ¶ˆæ¯ï¼Œä½†æœåŠ¡å™¨åªæ¥æ”¶åˆ°äº†ç¬¬ä¸€ä¸ªæ¶ˆæ¯ã€‚å…¶å®æ˜¯å‰©ä¸‹çš„æ¶ˆæ¯è¿˜æ²¡æœ‰è¿›è¡Œè¯»å–è€Œå·²ã€‚</strong></p>
<p>ä»¥ä¸Šä¸¤ä¸ªä¾‹å­æ˜¯ä¸ºäº†å¸®åŠ©æ›´å¥½çš„ç†è§£Socketåº”è¯¥æ€ä¹ˆä½¿ç”¨ï¼Œä½†æ˜¯åªæ˜¯ä¸€å¯¹ä¸€çš„é€šä¿¡ï¼Œè€Œä¸”æ˜¯æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„ä¸€å¯¹ä¸€é€šä¿¡ï¼Œé‚£ä¹ˆå¤šä¸ªå®¢æˆ·ç«¯æ€ä¹ˆè¿æ¥æœåŠ¡å™¨å‘¢ï¼Ÿå®¢æˆ·ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´æ€ä¹ˆé€šä¿¡å‘¢ï¼Ÿè¿™å°±æ˜¯Socketçš„èŠå¤©å®¤åŠŸèƒ½äº†ã€‚</p>
<h3 id="ç¬¬ä¸‰ä¾‹ï¼šSocketå®ç°å¤šä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡"><a href="#ç¬¬ä¸‰ä¾‹ï¼šSocketå®ç°å¤šä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡" class="headerlink" title="ç¬¬ä¸‰ä¾‹ï¼šSocketå®ç°å¤šä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡"></a>ç¬¬ä¸‰ä¾‹ï¼šSocketå®ç°å¤šä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯é€šä¿¡</h3><p>â€‹        å®ç°å¤šä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯çš„é€šä¿¡é¦–å…ˆéœ€è¦å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ç«¯ç”¨æ¥ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œç„¶åä¼šå°†è¿æ¥æ”¾å…¥çº¿ç¨‹ä¸­ï¼Œæ¯å½“æœ‰å®¢æˆ·ç«¯å‘æœåŠ¡å™¨è¯·æ±‚è¿æ¥æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè·å–å®¢æˆ·ç«¯çš„Socketï¼Œç„¶åå°†è¿™ä¸ªSocketæ”¾å…¥ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­ï¼Œåœ¨çº¿ç¨‹ä¸­ç›‘å¬å®¢æˆ·ç«¯å‘é€çš„ä¿¡æ¯ï¼Œè¿™æ—¶å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€ä¿¡æ¯å°±å¯ä»¥æ¥æ”¶åˆ°äº†ã€‚</p>
<p>SocketServiceï¼ˆæœåŠ¡å™¨ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">ServerSocket</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketService</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span> 
        <span class="token class-name">ServerSocket</span> serverSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">5208</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  
            <span class="token class-name">Socket</span> socket<span class="token operator">=</span> serverSocket<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸Šçº¿é€šçŸ¥ï¼š "</span> <span class="token operator">+</span> socket<span class="token punctuation">.</span><span class="token function">getInetAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span>socket<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ServerThread</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>  
<span class="token punctuation">&#125;</span></code></pre>



<p>ServerThreadï¼ˆæœåŠ¡å™¨çº¿ç¨‹ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerThread</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">&#123;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Socket</span> socket<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">ServerThread</span> <span class="token punctuation">(</span><span class="token class-name">Socket</span> socket<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>socket <span class="token operator">=</span> socket<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
 
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">String</span> str <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
 
<span class="token punctuation">&#125;</span></code></pre>



<p>SocketClient1ï¼ˆç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient1</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>  
        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"192.168.10.2"</span><span class="token punctuation">,</span> <span class="token number">5208</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å°ä¸€è¿æ¥æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å°ä¸€è¯´ï¼š"</span><span class="token operator">+</span>br<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>  
<span class="token punctuation">&#125;</span></code></pre>



<p>SocketClient2ï¼ˆç¬¬äºŒä¸ªå®¢æˆ·ç«¯ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient2</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>  
        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"192.168.10.2"</span><span class="token punctuation">,</span> <span class="token number">5208</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å°äºŒè¿æ¥æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å°äºŒè¯´ï¼š"</span><span class="token operator">+</span>br<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>  
<span class="token punctuation">&#125;</span></code></pre>



<p> ã€€è¿™ä¸ªä¾‹å­æ˜¯å¤šä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸€ä¸‹ä¸Šé¢çš„<strong>ä»£ç é€»è¾‘</strong></p>
<p> ã€€é¦–å…ˆæˆ‘ä»¬å…ˆå¯åŠ¨æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¯åŠ¨åï¼Œè¿›å…¥æ— é™å¾ªç¯ä¸­çš„***accept()<em><strong>æ–¹æ³•ï¼Œè¿™é‡Œçš„</strong>æ— é™å¾ªç¯æ˜¯ä¸ºäº†ä¸æ–­çš„è·å–nä¸ªå®¢æˆ·ç«¯è¿æ¥</em>*ã€‚åœ¨è¿™é‡Œä¼šé˜»å¡ç­‰å¾…ä¸€ä¸ªsocketè¿æ¥ï¼ŒæœåŠ¡å™¨çš„ä»£ç èµ°åˆ°è¿™å°±åœäº†ã€‚</p>
<p> ã€€ç„¶åæˆ‘ä»¬å¯åŠ¨ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å¯åŠ¨åï¼ŒæœåŠ¡å™¨ä¼šå¾€ä¸‹èµ°ï¼ŒæœåŠ¡å™¨ä¼šæ–°å¯åŠ¨ä¸€ä¸ªè‡ªå·±å†™çš„çº¿ç¨‹ï¼ˆServerThreadï¼‰ï¼Œå°†socketè¿æ¥ä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°ä¼ å…¥è¿™ä¸ªè‡ªå·±å†™çš„çº¿ç¨‹ä¸­ï¼Œç„¶ååœ¨çº¿ç¨‹ä¸­é€šè¿‡***readline()<em><strong>æ–¹æ³•ï¼Œé˜»å¡ç­‰å¾…å®¢æˆ·ç«¯socketä¸­è¾“å…¥æµçš„å‡ºç°ï¼Œè€ŒåŒæ—¶ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¼šè¢«å¾ªç¯ä¸­çš„</strong></em>readline()***æ–¹æ³•é˜»å¡ï¼Œç­‰å¾…æ§åˆ¶å°ä¸­çš„è¾“å…¥æµçš„å‡ºç°ã€‚</p>
<p> ã€€è¿™å°±æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„è¿æ¥ï¼Œè¿™æ—¶æ•´ä¸ªé¡¹ç›®å°±è¿›å…¥ç­‰å¾…ä¸­ï¼ŒæœåŠ¡å™¨è¢«***accept()<em><strong>é˜»å¡ç­‰å¾…ä¸‹ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼ŒæœåŠ¡å™¨çº¿ç¨‹è¢«</strong></em>readline()<em><strong>é˜»å¡ç­‰å¾…socketä¸­è¾“å…¥æµçš„å‡ºç°ï¼Œå®¢æˆ·ç«¯è¢«</strong></em>readline()***é˜»å¡ç­‰å¾…æ§åˆ¶å°ä¸­è¾“å…¥æµçš„å‡ºç°ã€‚</p>
<p> ã€€ä»”ç»†æ€è€ƒåä½ ä¼šå‘ç°ï¼Œ<strong>è¿™é‡Œçš„æœåŠ¡å™¨ç«¯çš„åŠŸèƒ½å…¶å®åªæ˜¯å®ä¾‹åŒ–å‡ºä¸€ä¸ªä¸ªæœåŠ¡å™¨çº¿ç¨‹ï¼Œè€ŒçœŸæ­£è¿›è¡Œé€šä¿¡çš„æ˜¯æœåŠ¡å™¨çº¿ç¨‹å’Œå®¢æˆ·ç«¯ï¼Œæ‰€ä»¥è¿™é‡Œçš„æœåŠ¡å™¨çº¿ç¨‹å…¶å®å°±æ˜¯å‰ä¾‹çš„æœåŠ¡å™¨ç«¯ï¼Œè€Œè¿™é‡Œçš„æœåŠ¡å™¨ç«¯åªæ˜¯æœåŠ¡å™¨çš„å·¥å‚ç±»ï¼Œç”¨æ¥ç”Ÿäº§å‡ºä¸€ä¸ªä¸ªæœåŠ¡å™¨çš„ã€‚</strong></p>
<p> ã€€ä¹‹ååŒæ ·å¯åŠ¨ç¬¬äºŒä¸ªå®¢æˆ·ç«¯ï¼Œé€»è¾‘åŒç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚ç„¶åæˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯çš„æ§åˆ¶å°ä¸­è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼Œè¿™æ—¶ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯ä¸­çš„***readline()***å°±ä¼šç«‹åˆ»è¯»å–åˆ°è¿™æ®µè¾“å…¥æµï¼Œç„¶åå®¢æˆ·ç«¯é€šè¿‡PrintWriterå°†è¯¥è¾“å…¥æµé€šè¿‡socketçš„è¾“å‡ºæµæ¨é€åˆ°æœåŠ¡å™¨çº¿ç¨‹çš„socketä¸­ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯çš„ç­‰å¾…ã€‚</p>
<p> ã€€è€ŒæœåŠ¡å™¨çº¿ç¨‹ä¸­çš„***readline()***å°±ä¼šç«‹åˆ»è¯»å–åˆ°socketçš„è¾“å…¥æµï¼Œç„¶åæ‰“å°åˆ°æœåŠ¡å™¨çš„æ§åˆ¶å°ï¼Œä¹‹ååˆä¼šè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯çš„ç­‰å¾…ã€‚åœ¨è¿™é‡Œå…¶å®ä¹Ÿå¯ä»¥è¿›è¡ŒæœåŠ¡å™¨çº¿ç¨‹å‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯çš„æ“ä½œï¼Œä½†ä¸ºäº†ç®€åŒ–ä»£ç é€»è¾‘ï¼Œè¿™é‡Œæ²¡æœ‰è¿›è¡Œæ›´å¤šçš„æ“ä½œï¼Œåœ¨ä¸‹ä¸€ä¸ªä¾‹å­ä¸­æœ‰è¯¦ç»†çš„è§£é‡Šã€‚</p>
<p> ã€€ç„¶åä½ åœ¨ç¬¬äºŒä¸ªå®¢æˆ·ç«¯çš„æ§åˆ¶å°ä¸­è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼Œä¹ŸåŒæ ·èƒ½åœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œæ‰“å°è¾“å‡ºã€‚å…¶å®ä¹Ÿå°±æ˜¯ä¸¤ä¸ªå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶å’ŒæœåŠ¡å™¨ç«¯çš„ä¸¤ä¸ªçº¿ç¨‹è¿›è¡Œé€šä¿¡ï¼Œä¸€ä¸ªæœåŠ¡å™¨ç«¯çº¿ç¨‹é˜»å¡æ—¶ï¼Œä¸ä¼šå½±å“åˆ°å¦ä¸€ä¸ªï¼Œæ‰€ä»¥åœ¨æœåŠ¡å™¨ç«¯æ˜¯èƒ½å¤ŸåŒæ—¶çœ‹åˆ°ä¸¤ä¸ªå®¢æˆ·ç«¯çš„é€šä¿¡å†…å®¹çš„ã€‚</p>
<p> ã€€è¿™é‡Œæœ‰å‡ ä¸ªçº¿ç¨‹çš„æ³¨æ„äº‹é¡¹ã€‚</p>
<p> ã€€ç¬¬ä¸€æ˜¯è‡ªå·±å†™çº¿ç¨‹æ—¶ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œ<strong>ç»§æ‰¿Threadç±»</strong>å’Œ<strong>å®ç°Runnableæ¥å£</strong>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ<strong>å¦‚æœæˆ‘ä»¬åªæƒ³é‡å†™runæ–¹æ³•ï¼Œéƒ½æ˜¯ä½¿ç”¨å®ç°Runnableæ¥å£çš„æ–¹å¼</strong>ï¼ŒThreadç±»çš„åº•å±‚ä»£ç å…¶å®ä¹Ÿæ˜¯å®ç°äº†Runnableæ¥å£ã€‚</p>
<p> ã€€ç¬¬äºŒæ˜¯å¯åŠ¨çº¿ç¨‹ä¸€èˆ¬ä¹Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯<strong>è°ƒç”¨run()æ–¹æ³•</strong>ï¼Œä¸€ä¸ªæ˜¯<strong>è°ƒç”¨start()æ–¹æ³•</strong>ï¼Œè°ƒç”¨runæ–¹æ³•å…¶å®å¹¶æ²¡æœ‰å¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œè€Œæ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œäº†ä¸€ä¸‹runæ–¹æ³•ã€‚ä½†startæ˜¯æ–°å»ºäº†ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€ä»¥<strong>çº¿ç¨‹çš„å¯åŠ¨éƒ½æ˜¯ä½¿ç”¨startæ–¹æ³•</strong>ã€‚</p>
<p> ã€€ä½†å®ç°runnableæ¥å£çš„çº¿ç¨‹æ²¡æœ‰startæ–¹æ³•ï¼Œæ‰€ä»¥éœ€è¦å°†å®ç°runnableæ¥å£çš„ç±»å°è£…åˆ°Threadç±»ä¸­ï¼Œç„¶åè°ƒç”¨Threadçš„startæ–¹æ³•ï¼Œå¦‚ï¼š<em><strong>new Thread(new ServerThread(socket)).start();</strong></em></p>
<p> ã€€ç†è§£äº†é€»è¾‘åä¸éš¾çœ‹å‡ºï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ä½“ç°çš„æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯åˆ©ç”¨while(true)å¾ªç¯æ¥å®ä¾‹åŒ–å¤šä¸ªçº¿ç¨‹ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹æ¥å•ç‹¬è·‘ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä½¿å¾—å¤šä¸ªå®¢æˆ·ç«¯èƒ½å¤Ÿå’Œå¤šä¸ªä¸åŒçš„æœåŠ¡å™¨çº¿ç¨‹é€šä¿¡ï¼Œå½¢æˆäº†å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶å’Œä¸€ä¸ªæœåŠ¡å™¨ç«¯é€šä¿¡çš„æ•ˆæœï¼Œå¦‚æœå»æ‰äº†å¾ªç¯å’Œçº¿ç¨‹ï¼Œé‚£ä¹ˆå°±åªèƒ½å®ä¾‹åŒ–ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä¹Ÿå°±æ— æ³•è®©å¤šä¸ªsocketå®¢æˆ·ç«¯è¿æ¥ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªä¾‹å­ã€‚</p>
<h3 id="ç¬¬å››ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸å®¢æˆ·ç«¯é€šä¿¡"><a href="#ç¬¬å››ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸å®¢æˆ·ç«¯é€šä¿¡" class="headerlink" title="ç¬¬å››ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸å®¢æˆ·ç«¯é€šä¿¡"></a>ç¬¬å››ä¾‹ï¼šSocketå®ç°å®¢æˆ·ç«¯ä¸å®¢æˆ·ç«¯é€šä¿¡</h3><p>â€‹    åœ¨ä¸Šä¸€ä¸ªä¾‹å­ä¸­ï¼Œæ˜¯é€šè¿‡å®ä¾‹åŒ–å¤šä¸ªæœåŠ¡å™¨çº¿ç¨‹æ¥å’Œå®¢æˆ·ç«¯è¿æ¥ï¼Œä»è€Œå®ç°ä¸€ä¸ªæœåŠ¡å™¨è¿æ¥å¤šå®¢æˆ·ç«¯çš„åŠŸèƒ½ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬åœ¨æœåŠ¡å™¨çº¿ç¨‹ä¸­è·å–äº†å®¢æˆ·ç«¯æ¨é€è¿‡æ¥çš„ä¿¡æ¯åï¼Œå†å°†è¿™ä¸ªä¿¡æ¯æ¨é€åˆ°æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œæ˜¯ä¸æ˜¯å°±å®ç°äº†å®¢æˆ·ç«¯ä¸å®¢æˆ·ç«¯çš„é€šä¿¡å‘¢ï¼Ÿ</p>
<p> ã€€é€»è¾‘æ˜¯æ²¡æœ‰é”™çš„ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªéš¾ç‚¹ï¼Œç¬¬ä¸€ï¼Œå¦‚ä½•å°†ä¿¡æ¯æ¨é€åˆ°æ‰€æœ‰å®¢æˆ·ç«¯å‘¢ï¼Ÿæ‰€ä»¥è¿™å°±å¾—åœ¨æœåŠ¡å™¨ç«¯ç”¨ä¸€ä¸ªåˆ—è¡¨æ¥å­˜å‚¨æ‰€æœ‰å®¢æˆ·ç«¯ã€‚ç¬¬äºŒï¼Œæˆ‘ä»¬çŸ¥é“è·å–æ§åˆ¶å°çš„ä¿¡æ¯éœ€è¦ç”¨åˆ°***readline()<em><strong>è¿™ä¸ªé˜»å¡å‡½æ•°ï¼Œè·å–å®¢æˆ·ç«¯æ¨é€è¿‡æ¥çš„ä¿¡æ¯ä¹Ÿéœ€è¦ç”¨åˆ°</strong></em>readline()***æ‰€ä»¥æ¯ä¸ªå®¢æˆ·ç«¯éƒ½åº”å®ä¾‹åŒ–ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªç”¨æ¥ç­‰å¾…æ§åˆ¶å°è¾“å…¥ï¼Œä¸€ä¸ªç”¨æ¥ç­‰å¾…æœåŠ¡å™¨æ¨é€çš„æ¶ˆæ¯ã€‚</p>
<p>SocketServiceï¼ˆæœåŠ¡å™¨ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>chat</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">ServerSocket</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketService</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Socket</span><span class="token punctuation">></span></span> socketList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Socket</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span> 
        <span class="token class-name">ServerSocket</span> serverSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">5208</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"èŠå¤©å®¤å¼€å¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  
            <span class="token class-name">Socket</span> socket<span class="token operator">=</span> serverSocket<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//ä»è¿æ¥è¯·æ±‚é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªè¿æ¥           </span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸Šçº¿é€šçŸ¥ï¼š ç”¨æˆ·"</span> <span class="token operator">+</span> socket<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"ä¸Šçº¿å•¦ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            socketList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ServerThread</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>  
<span class="token punctuation">&#125;</span></code></pre>

<p>ServerThreadï¼ˆæœåŠ¡å™¨çº¿ç¨‹ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>chat</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerThread</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">&#123;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Socket</span> socket<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">ServerThread</span> <span class="token punctuation">(</span><span class="token class-name">Socket</span> socket<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>socket <span class="token operator">=</span> socket<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
 
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">String</span> str <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Socket</span> item <span class="token operator">:</span> <span class="token class-name">SocketService</span><span class="token punctuation">.</span>socketList<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·"</span><span class="token operator">+</span>socket<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"è¯´ï¼š"</span><span class="token operator">+</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
 
<span class="token punctuation">&#125;</span></code></pre>



<p>SocketClient1ï¼ˆç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>chat</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient1</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>  
        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"192.168.10.2"</span><span class="token punctuation">,</span> <span class="token number">5208</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ­å–œä½ è¿æ¥æˆåŠŸ!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SocketThread1</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SocketThread2</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>  
<span class="token punctuation">&#125;</span></code></pre>



<p>SocketClient2ï¼ˆç¬¬äºŒä¸ªå®¢æˆ·ç«¯ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>chat</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketClient2</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>  
        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"192.168.10.2"</span><span class="token punctuation">,</span> <span class="token number">5208</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ­å–œä½ è¿æ¥æˆåŠŸ!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SocketThread1</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SocketThread2</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>



<p>SocketThread1ï¼ˆç›‘å¬æ§åˆ¶å°å®¢æˆ·ç«¯çº¿ç¨‹ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>chat</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketThread1</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">&#123;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Socket</span> socket<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">SocketThread1</span><span class="token punctuation">(</span><span class="token class-name">Socket</span> socket<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>socket <span class="token operator">=</span> socket<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
 
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">String</span> str <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
                pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// TODO Auto-generated catch block</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> 
        
    <span class="token punctuation">&#125;</span>
 
<span class="token punctuation">&#125;</span></code></pre>



<p>SocketThread2ï¼ˆç›‘å¬æœåŠ¡å™¨å®¢æˆ·ç«¯çº¿ç¨‹ï¼‰ï¼š</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">socket<span class="token punctuation">.</span>chat</span><span class="token punctuation">;</span>
 
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">BufferedReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStreamReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SocketThread2</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">&#123;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Socket</span> socket<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">SocketThread2</span><span class="token punctuation">(</span><span class="token class-name">Socket</span> socket<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>socket <span class="token operator">=</span> socket<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
 
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">String</span> str <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// TODO Auto-generated catch block</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> 
        
    <span class="token punctuation">&#125;</span>
 
<span class="token punctuation">&#125;</span></code></pre>

<p> ã€€è¿™ä¸ªä¾‹å­æ˜¯å®¢æˆ·ç«¯ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸€ä¸‹ä¸Šé¢çš„<strong>ä»£ç é€»è¾‘</strong>ã€‚</p>
<p> ã€€é¦–å…ˆåœ¨æœåŠ¡å™¨ç«¯å®šä¹‰ä¸€ä¸ªé™æ€çš„Listç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„å®¢æˆ·ç«¯socketã€‚æˆ‘ä»¬é¦–å…ˆä¼šå¯åŠ¨æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¯åŠ¨åï¼Œè¿›å…¥æ— é™å¾ªç¯ä¸­çš„***accept()<em><strong>æ–¹æ³•ï¼Œè¿™é‡Œçš„</strong>æ— é™å¾ªç¯æ˜¯ä¸ºäº†ä¸æ–­çš„è·å–nä¸ªå®¢æˆ·ç«¯è¿æ¥</em>*ã€‚åœ¨è¿™é‡Œä¼šé˜»å¡ç­‰å¾…ä¸€ä¸ªsocketè¿æ¥ï¼ŒæœåŠ¡å™¨çš„ä»£ç èµ°åˆ°è¿™å°±åœäº†ã€‚</p>
<p> ã€€ç„¶åæˆ‘ä»¬å¯åŠ¨ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å¯åŠ¨åï¼ŒæœåŠ¡å™¨ä¼šå¾€ä¸‹èµ°ï¼Œé¦–å…ˆå…ˆå°†socketè¿æ¥åŠ å…¥é™æ€åˆ—è¡¨ä¸­ï¼Œä»¥ä¾¿æœåŠ¡å™¨çº¿ç¨‹è°ƒç”¨ã€‚ç„¶åæœåŠ¡å™¨ä¼šæ–°å¯åŠ¨ä¸€ä¸ªè‡ªå·±å†™çš„çº¿ç¨‹ï¼ˆServerThreadï¼‰ï¼Œå°†socketè¿æ¥ä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°ä¼ å…¥è¿™ä¸ªè‡ªå·±å†™çš„çº¿ç¨‹ä¸­ï¼Œç„¶ååœ¨çº¿ç¨‹ä¸­é€šè¿‡***readline()***æ–¹æ³•ï¼Œé˜»å¡ç­‰å¾…å®¢æˆ·ç«¯socketä¸­è¾“å…¥æµçš„å‡ºç°ã€‚</p>
<p> ã€€è¿™æ—¶ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¼šå°†socketä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°æ¥æ–°å»ºä¸¤ä¸ªå®¢æˆ·ç«¯çº¿ç¨‹ï¼Œ<strong>ç¬¬ä¸€ä¸ªçº¿ç¨‹çš„ä½œç”¨æ˜¯ç­‰å¾…æ§åˆ¶å°ä¸­è¾“å…¥æµçš„å‡ºç°</strong>ï¼Œè¢«å¾ªç¯ä¸­çš„***readline()<em><strong>æ–¹æ³•é˜»å¡ï¼Œç­‰å¾…æ§åˆ¶å°ä¸­çš„è¾“å…¥æµçš„å‡ºç°ï¼›</strong>ç¬¬äºŒä¸ªçº¿ç¨‹çš„ä½œç”¨æ˜¯ç­‰å¾…æœåŠ¡å™¨ç«¯æ¨é€è¿‡æ¥çš„socketä¸­è¾“å…¥æµçš„å‡ºç°</em>*ã€‚</p>
<p> ã€€è¿™å°±æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„è¿æ¥ï¼Œè¿™æ—¶æ•´ä¸ªé¡¹ç›®å°±è¿›å…¥ç­‰å¾…ä¸­ï¼ŒæœåŠ¡å™¨è¢«***accept()<em><strong>é˜»å¡ç­‰å¾…ä¸‹ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼ŒæœåŠ¡å™¨çº¿ç¨‹è¢«</strong></em>readline()<em><strong>é˜»å¡ç­‰å¾…å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„socketä¸­è¾“å…¥æµçš„å‡ºç°ï¼Œå®¢æˆ·ç«¯çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹è¢«</strong></em>readline()<em><strong>é˜»å¡ç­‰å¾…æ§åˆ¶å°ä¸­è¾“å…¥æµçš„å‡ºç°ï¼Œå®¢æˆ·ç«¯çš„ç¬¬äºŒä¸ªçº¿ç¨‹è¢«</strong></em>readline()***é˜»å¡ç­‰å¾…æœåŠ¡å™¨ä¼ è¿‡æ¥çš„socketä¸­è¾“å…¥æµçš„å‡ºç°ã€‚</p>
<p> ã€€ä¹‹ååŒæ ·å¯åŠ¨ç¬¬äºŒä¸ªå®¢æˆ·ç«¯ï¼Œé€»è¾‘åŒç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚ç„¶åæˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯çš„æ§åˆ¶å°ä¸­è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼Œè¿™æ—¶ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹ä¸­çš„<em><strong>readline()<em><strong>å°±ä¼šç«‹åˆ»è¯»å–åˆ°è¿™æ®µè¾“å…¥æµï¼Œç„¶åè¯¥çº¿ç¨‹é€šè¿‡</strong></em>PrintWriter</strong></em>å°†è¯¥è¾“å…¥æµé€šè¿‡socketçš„è¾“å‡ºæµæ¨é€åˆ°æœåŠ¡å™¨çº¿ç¨‹çš„socketä¸­ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯çš„ç­‰å¾…ã€‚</p>
<p> ã€€è€ŒæœåŠ¡å™¨çº¿ç¨‹ä¸­çš„***readline()***å°±ä¼šç«‹åˆ»è¯»å–åˆ°å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„socketçš„è¾“å…¥æµï¼Œç„¶åé€šè¿‡æœåŠ¡å™¨ç«¯çš„é™æ€åˆ—è¡¨è·å–æ‰€æœ‰çš„socketè¿æ¥ï¼Œå†é€šè¿‡æ¯ä¸ªsocketçš„è¾“å‡ºæµå°†è¿™ä¸²å­—ç¬¦æ¨é€åˆ°æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œä¹‹ååˆä¼šè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯çš„ç­‰å¾…ã€‚</p>
<p> ã€€è¿™æ˜¯æ‰€æœ‰å®¢æˆ·ç«¯çš„ç¬¬äºŒä¸ªçº¿ç¨‹ä¸­çš„***readline()***å°±ä¼šç«‹åˆ»è¯»å–åˆ°æœåŠ¡å™¨ç«¯ä¼ è¿‡æ¥çš„è¾“å…¥æµï¼Œç„¶åå°†è¿™ä¸²å­—ç¬¦ä¸²æ‰“å°è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯çš„ç­‰å¾…ã€‚</p>
<p> ã€€ä¹‹ååœ¨ç¬¬äºŒä¸ªå®¢æˆ·ç«¯çš„æ§åˆ¶å°ä¸­è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼Œä¹Ÿæ˜¯åŒæ ·çš„é€»è¾‘ã€‚ä¸Šä¸€ä¸ªä¾‹å­æ˜¯å¤šä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„é€šä¿¡ï¼Œè¿™ä¸ªä¾‹å­åŠ äº†ä¸€æ­¥æœåŠ¡å™¨æ¥æ”¶åˆ°é€šä¿¡åå†æ¬¡å‘æ‰€æœ‰å®¢æˆ·ç«¯å‘é€è¿™æ¬¡é€šä¿¡å†…å®¹ã€‚ä¸Šä¸€ä¸ªä¾‹å­ä¹Ÿæåˆ°äº†çš„æœåŠ¡å™¨å¯ä»¥å‘å®¢æˆ·ç«¯é€šä¿¡ï¼Œè¿™ä¸ªä¾‹å­é€šè¿‡<strong>é™æ€Listå’Œå®¢æˆ·ç«¯åˆ†ä¸¤ä¸ªçº¿ç¨‹çš„æ–¹å¼</strong>è§£å†³äº†ä¸¤ä¸ªéš¾ç‚¹ï¼Œè‡ªç„¶è€Œç„¶å°±å®ç°äº†èŠå¤©å®¤åŠŸèƒ½ã€‚</p>
<p> ã€€æ€»ç»“ä¸€ä¸‹ï¼Œæœ¬æ–‡å®ç°èŠå¤©å®¤ä¸»è¦ä¾é çš„å°±æ˜¯ä¸¤ä¸ªæŠ€æœ¯ç‚¹ï¼š<strong>Socket + çº¿ç¨‹</strong>ã€‚</p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>rayucan</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://example.com/2020/10/04/Socket/" title="Socket">http://example.com/2020/10/04/Socket/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/10/05/Maven/" rel="prev" title="Maven"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Maven</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/10/03/JSP/" rel="next" title="JSP"><span class="post-nav-text">JSP</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> rayucan</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>